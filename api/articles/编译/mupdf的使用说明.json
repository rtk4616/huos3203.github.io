{"title":"mupdf使用说明","slug":"编译/mupdf的使用说明","date":"2017-06-19T18:25:32.000Z","updated":"2017-06-19T18:25:32.000Z","comments":true,"path":"api/articles/编译/mupdf的使用说明.json","excerpt":null,"covers":null,"content":"<link rel=\"stylesheet\" href=\"/owl.css\"><script src=\"/assets/js/APlayer.min.js\"> </script><h3 id=\"需求描述\"><a href=\"#需求描述\" class=\"headerlink\" title=\"需求描述\"></a>需求描述</h3><p>目前手机端使用mupdf，通过在底层添加加密方法实现定制pbb阅读器功能。<br>资源获取如下：<br><blockquote><p>Download packages of the latest release for your system:<br>Source code for all platforms.<br>Windows viewer and tools.<br>Android viewer on Google Play.<br>Android viewer APK installer files.<br>iPad and iPhone version on the App Store.<br>The latest development source is available directly from the git repository:<br>git clone –recursive git://git.ghostscript.com/mupdf.git</p>\n</blockquote></p>\n<p>总结：没有适配osx版本，放弃。</p>\n<h3 id=\"使用apple-官方提供的demo，来分析pdf结构，显示pdf内容。\"><a href=\"#使用apple-官方提供的demo，来分析pdf结构，显示pdf内容。\" class=\"headerlink\" title=\"使用apple 官方提供的demo，来分析pdf结构，显示pdf内容。\"></a>使用apple 官方提供的demo，来分析pdf结构，显示pdf内容。</h3><p>猜想：这样以来，使用苹果提供相关API，将无法定制底层操作，即无法实现密文浏览功能，故先从明文阅读器开发开始。</p>\n<h3 id=\"mupdf源码库集成加密\"><a href=\"#mupdf源码库集成加密\" class=\"headerlink\" title=\"mupdf源码库集成加密\"></a>mupdf源码库集成加密</h3><p>最新整合集成加密到源码库，并发布到git服务器上，便于协作维护:<a href=\"https://server.local/git/mupdf.git\" target=\"_blank\" rel=\"noopener\">https://server.local/git/mupdf.git</a><br>协作过程：<br>在服务器端添加账号：test  test123<br><figure class=\"highlight ruby\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">$ git clone <span class=\"symbol\">https:</span>/<span class=\"regexp\">/server.local/git</span><span class=\"regexp\">/mupdf.git mupdf</span></span><br><span class=\"line\"><span class=\"regexp\">$ cd mupdf/thirdparty</span><span class=\"regexp\">/</span></span><br><span class=\"line\"><span class=\"regexp\">$ git submodule init</span></span><br><span class=\"line\"><span class=\"regexp\">$ git submodule update</span></span><br><span class=\"line\"><span class=\"regexp\">$ open mupdf/platform</span><span class=\"regexp\">/ios/</span>MuPDF.xcodeproj</span><br><span class=\"line\">$ build &amp; run</span><br></pre></td></tr></table></figure></p>\n<p>封装MuPDFFramework便于集成至PBBReader中：<br>初始化mupdf页面接口：<br><figure class=\"highlight objc\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">MuPDFViewController *bindingPhone = [[MuPDFViewController alloc] initWithNibName:<span class=\"literal\">nil</span> bundle:<span class=\"literal\">nil</span>];</span><br><span class=\"line\">bindingPhone.filename=filename;</span><br><span class=\"line\">bindingPhone.openfilepath=select_files;</span><br><span class=\"line\">[<span class=\"keyword\">self</span>.view.window.contentViewController presentViewControllerAsSheet:bindingPhone];</span><br></pre></td></tr></table></figure></p>\n","categories":[{"name":"macOS","path":"api/categories/macOS.json"},{"name":"PDF","path":"api/categories/PDF.json"}],"tags":[]}