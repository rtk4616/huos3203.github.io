{"title":"iOS插件化开发之Small","slug":"xcode/iOS插件化开发之Small","date":"2018-04-11T16:42:17.000Z","updated":"2018-04-11T19:16:17.000Z","comments":true,"path":"api/articles/xcode/iOS插件化开发之Small.json","excerpt":null,"covers":["https://camo.githubusercontent.com/25aac173476e3a5eecdf2853b0e233bf8179bece/687474703a2f2f636f64652e7765717569636b2e6e65742f6173736574732f696d616765732f736d616c6c2d696f732d74656d706c6174652e706e67"],"content":"<link rel=\"stylesheet\" href=\"/owl.css\"><script src=\"/assets/js/APlayer.min.js\"> </script><div id=\"badge-container-huos3203-Small-04f08ae4a26\" class=\"hexo-github\" style=\"width: =\"></div>\n<script src=\"/hexo-github/badge.js\"></script>\n<script type=\"text/javascript\">\n  loadStyle(\"/hexo-github/style.css\");\n  loadStyle(\"/hexo-github/octicons/octicons.css\");\n  new Badge(\"#badge-container-huos3203-Small-04f08ae4a26\", \"huos3203\", \"Small\", \"04f08ae4a26\", false);\n</script>\n\n<p><a href=\"http://code.wequick.net/Small/cn/home\" target=\"_blank\" rel=\"noopener\">官网</a></p>\n<h2 id=\"iOS组件化基础\"><a href=\"#iOS组件化基础\" class=\"headerlink\" title=\"iOS组件化基础\"></a>iOS组件化基础</h2><p>iOS组件化基于<a href=\"https://developer.apple.com/library/ios/documentation/General/Conceptual/DevPedia-CocoaCore/Framework.html#//apple_ref/doc/uid/TP40008195-CH56-SW1\" target=\"_blank\" rel=\"noopener\">Cocoa Touch Framework</a>（以下简称CTF）通过<a href=\"https://developer.apple.com/library/ios/documentation/Cocoa/Reference/Foundation/Classes/NSBundle_Class/index.html#//apple_ref/occ/cl/NSBundle\" target=\"_blank\" rel=\"noopener\">NSBundle</a>实现。</p>\n<ul>\n<li>CTF首次公开在WWDC2014，要求Xcode6 beta以上版本。</li>\n<li>CTF官方表示支持8.0以上系统，但在6.0、7.0上测试正常。</li>\n<li>如果你的App包含了CTF，但是<strong>Deployment Target</strong> &lt; 8.0，上传二进制文件到App Store时会报警中断。</li>\n</ul>\n<p>受苹果官方限制，如果你的CTF没有签名，将无法实现代码级别更新。</p>\n<p>Framework 模式无法上传到App Store。只能应用到企业版</p>\n<h2 id=\"使用文档\"><a href=\"#使用文档\" class=\"headerlink\" title=\"使用文档\"></a>使用文档</h2><ol>\n<li><p>导入模板，重启Xcode</p>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">git <span class=\"built_in\">clone</span> https://github.com/wequick/Small.git</span><br><span class=\"line\"><span class=\"built_in\">cd</span> Small/iOS</span><br><span class=\"line\">cp -r Templates ~/Library/Developer/Xcode/Templates</span><br></pre></td></tr></table></figure>\n</li>\n<li><p>新建工程<br><code>File-&gt;New-&gt;Project...</code>，选择Small-pods模板<br><img src=\"https://camo.githubusercontent.com/25aac173476e3a5eecdf2853b0e233bf8179bece/687474703a2f2f636f64652e7765717569636b2e6e65742f6173736574732f696d616765732f736d616c6c2d696f732d74656d706c6174652e706e67\" alt=\"Small iOS Template\"></p>\n</li>\n<li><p>安装Pods</p>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"built_in\">cd</span> [your-project-path]</span><br><span class=\"line\">pod install --no-repo-update</span><br></pre></td></tr></table></figure>\n</li>\n<li><p>关闭工程并打开xcworkspace</p>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">open *.xcworkspace</span><br></pre></td></tr></table></figure>\n</li>\n</ol>\n<h2 id=\"实例\"><a href=\"#实例\" class=\"headerlink\" title=\"实例\"></a>实例</h2><ul>\n<li>使用者模式<a href=\"Sample\">Sample</a></li>\n</ul>\n<blockquote>\n<p>需要先编译Pods</p>\n</blockquote>\n<ul>\n<li>开发者模式<a href=\"DevSample\">DevSample</a></li>\n</ul>\n<blockquote>\n<p>需要去除并行编译模式：<code>Edit Scheme...-&gt;Build-&gt;Build Options-&gt; [ ] Parallelize Build</code></p>\n<p>各个组件需要签名后才支持代码级别更新。示例中更新例子为xib内容更新。<br><br>在没有设置签名之前，请在模拟器上跑示例。</p>\n</blockquote>\n<h2 id=\"TODO-List\"><a href=\"#TODO-List\" class=\"headerlink\" title=\"TODO List\"></a>TODO List</h2><ul>\n<li>Sample支持CocoaPods</li>\n<li>设置签名脚本（现在需要对每个组件Project手动设置签名）</li>\n<li>热更新（现在需要重启生效）</li>\n<li>Xcode Template for creating new <code>Small Bundle</code></li>\n</ul>\n<h2 id=\"参考\"><a href=\"#参考\" class=\"headerlink\" title=\"参考\"></a>参考</h2><p><a href=\"https://github.com/wequick/small/wiki/iOS\" target=\"_blank\" rel=\"noopener\">Wiki/iOS</a><br><a href=\"http://www.cocoachina.com/industry/20140613/8810.html\" target=\"_blank\" rel=\"noopener\">WWDC2014之iOS使用动态库</a></p>\n","categories":[{"name":"xcode","path":"api/categories/xcode.json"}],"tags":[]}