{"title":"Perfect服务器开发环境搭建","slug":"macOS/Perfect服务器开发环境搭建","date":"2017-06-25T09:21:56.000Z","updated":"2017-06-25T09:21:56.000Z","comments":true,"path":"api/articles/macOS/Perfect服务器开发环境搭建.json","excerpt":null,"covers":["http://www.plantuml.com/plantuml/svg/SoWkIImgAStDuIhEpimhI2nAp5KeoIp9INNABqf9BNBEpyalKYXAJU422oeKbsUcbRpOk_x9xcrFUrgVhrluV4BRqvahkFAJibAJInI20tpXpFpIekJKOXWt834vEp4zbOiBAgwWgmLIRVLiruJd2ngVxfhC1LK1atYoR-wBhTEUxsu1MiK5bxHIo4lCJLMmLL1wkN3dyzdhdaxeLKAI1FebFRMa62J_PDVofvCRqUHJKWjIyr9Iyv8pKo6Aa2nHua8upah1EIUn6Am4xa0bBWUWNc180G00"],"content":"<link rel=\"stylesheet\" href=\"/owl.css\"><script src=\"/assets/js/APlayer.min.js\"> </script><p>Perfect是一组完整、强大的工具箱、软件框架体系和Web应用服务器，可以在Linux、iOS和macOS (OS X)上使用。该软件体系为Swift工程师量身定制了一整套用于开发轻量、易维护、规模可扩展的Web应用及其它REST服务的解决方案，这样Swift工程师就可以实现同时在服务器和客户端上采用同一种语言开发软件项目。</p>\n<p>由于建立在一个高性能异步网络引擎基础上，Perfect还能够在FastCGI上运行，支持安全套接字加密（SSL）。该软件体系还包含很多其它互联网服务器所需要的特点，包括WebSockets和iOS消息推送，而且很快会有更多强大的功能支持。</p>\n<h2 id=\"SPM-软件包管理器编译项目\"><a href=\"#SPM-软件包管理器编译项目\" class=\"headerlink\" title=\"SPM:软件包管理器编译项目\"></a>SPM:软件包管理器编译项目</h2><p><a href=\"https://github.com/PerfectlySoft/PerfectDocs/blob/master/guide.zh_CN/buildingWithSPM.md\" target=\"_blank\" rel=\"noopener\">https://github.com/PerfectlySoft/PerfectDocs/blob/master/guide.zh_CN/buildingWithSPM.md</a><br>在Perfect Template项目模板是一个标准的SPM项目：</p>\n<ol>\n<li><code>Sources</code> 目录: 包含了所有Perfect项目的Swift源程序文件</li>\n<li><code>Package.swift</code>SPM文件管理清单: 包含了整个项目对其它库函数的依存关系<br>所有的SPM项目至少要包括一个 Sources 目录和一个 Package.swift 文件。而项目模板中目前只有一个依存关系：Perfect-HTTPServer服务器项目<br><img src=\"http://www.plantuml.com/plantuml/svg/SoWkIImgAStDuIhEpimhI2nAp5KeoIp9INNABqf9BNBEpyalKYXAJU422oeKbsUcbRpOk_x9xcrFUrgVhrluV4BRqvahkFAJibAJInI20tpXpFpIekJKOXWt834vEp4zbOiBAgwWgmLIRVLiruJd2ngVxfhC1LK1atYoR-wBhTEUxsu1MiK5bxHIo4lCJLMmLL1wkN3dyzdhdaxeLKAI1FebFRMa62J_PDVofvCRqUHJKWjIyr9Iyv8pKo6Aa2nHua8upah1EIUn6Am4xa0bBWUWNc180G00\"><h3 id=\"swift-SPM文件管理清单\"><a href=\"#swift-SPM文件管理清单\" class=\"headerlink\" title=\"swift SPM文件管理清单\"></a>swift SPM文件管理清单</h3>参数配置的相关含义:<br><code>name</code>: 当前项目的目标名称，可执行文件的名字也会按照这个名称进行编译。<br><code>dependencies[]</code>:依存关系清单组。该内容说明了您的应用程序需要的所有子项目列表，在这个数组中其中每一个条目都包含了一个“.Package”软件包，及其来源URL和版本。<figure class=\"highlight swift\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">import</span> PackageDescription</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">let</span> package = <span class=\"type\">Package</span>(</span><br><span class=\"line\">    name: <span class=\"string\">\"PerfectTemplate\"</span>, <span class=\"comment\">// 当前项目的目标名称，可执行文件的名字也会按照这个名称进行编译。</span></span><br><span class=\"line\">    targets: [],</span><br><span class=\"line\">    dependencies: [</span><br><span class=\"line\">        .<span class=\"type\">Package</span>(url: <span class=\"string\">\"https://github.com/PerfectlySoft/Perfect-HTTPServer.git\"</span>, majorVersion: <span class=\"number\">2</span>, minor: <span class=\"number\">0</span>),</span><br><span class=\"line\">        .<span class=\"type\">Package</span>(url: <span class=\"string\">\"https://github.com/PerfectlySoft/Perfect-CURL.git\"</span>, majorVersion: <span class=\"number\">2</span>, minor: <span class=\"number\">0</span>),</span><br><span class=\"line\">        .<span class=\"type\">Package</span>(url: <span class=\"string\">\"https://github.com/iamjono/JSONConfig.git\"</span>, majorVersion: <span class=\"number\">0</span>, minor: <span class=\"number\">1</span>),</span><br><span class=\"line\">        .<span class=\"type\">Package</span>(url: <span class=\"string\">\"https://github.com/PerfectlySoft/Perfect-libcurl.git\"</span>, majorVersion: <span class=\"number\">2</span>, minor: <span class=\"number\">0</span>),</span><br><span class=\"line\">        <span class=\"comment\">//        .Package(url: \"https://github.com/dabfleming/Perfect-RequestLogger.git\", majorVersion: 0)</span></span><br><span class=\"line\">    ]</span><br><span class=\"line\">)</span><br></pre></td></tr></table></figure>\n</li>\n</ol>\n<h3 id=\"SPM项目编译命令\"><a href=\"#SPM项目编译命令\" class=\"headerlink\" title=\"SPM项目编译命令\"></a>SPM项目编译命令</h3><p>SPM提供以下命令用于编译项目，并且清理旧的编译结果</p>\n<ol>\n<li><p>初始化项目，开始编译调试版本<br>先自动下载需要的依存文件，再开始编译，默认生成是调试版本</p>\n<figure class=\"highlight ruby\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">swift build</span><br></pre></td></tr></table></figure>\n</li>\n<li><p>启动调试版本<br>默认编译生成的调试程序在<code>.build/debug/</code>目录下</p>\n<figure class=\"highlight ruby\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">.build/debug/PerfectTemplate</span><br></pre></td></tr></table></figure>\n</li>\n<li><p>编译发行版本<br>执行后可发行版本的可执行程序所在的目录<code>.build/release/</code></p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">swift build -c release</span><br></pre></td></tr></table></figure>\n</li>\n<li><p>clean 编译命令<br>删除.build目录，然后重新开始一个全新的编译</p>\n<figure class=\"highlight swift\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">swift build --clean</span><br></pre></td></tr></table></figure>\n</li>\n<li><p>clean磁盘命令<br>删除.build目录和Packages目录，重新下载所有依存关系以获得最新版本对项目的支持。</p>\n<figure class=\"highlight swift\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">swift build --clean=dist</span><br></pre></td></tr></table></figure>\n</li>\n<li><p>支持Xcode调试项目命令<br>在同一目录下生成xcode项目，该项目允许编译和调试</p>\n<figure class=\"highlight sh\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">swift package generate-xcodeproj</span><br></pre></td></tr></table></figure>\n</li>\n</ol>\n<p>最好不要在这个Xcode项目上直接编辑或增加文件。如果需要更多的依存关系，或者需要下载更新的版本，您需要重新生成这个Xcode项目。因此，在之前您做的任何修改都会被Xcode覆盖。</p>\n","categories":[{"name":"macOS","path":"api/categories/macOS.json"},{"name":"终端","path":"api/categories/终端.json"}],"tags":[]}