<!doctype html>



  


<html class="theme-next mist use-motion" lang="zh-Hans">
<head>
  <meta charset="UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=edge" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"/>






<meta http-equiv="Cache-Control" content="no-transform" />
<meta http-equiv="Cache-Control" content="no-siteapp" />















  
  
  <link href="/lib/fancybox/source/jquery.fancybox.css?v=2.1.5" rel="stylesheet" type="text/css" />




  
  
  
  

  
    
    
  

  

  

  

  

  
    
    
    <link href="//fonts.googleapis.com/css?family=Lato:300,300italic,400,400italic,700,700italic&subset=latin,latin-ext" rel="stylesheet" type="text/css">
  






<link href="/lib/font-awesome/css/font-awesome.min.css?v=4.6.2" rel="stylesheet" type="text/css" />

<link href="/css/main.css?v=5.1.1" rel="stylesheet" type="text/css" />


  <meta name="keywords" content="boyer,布衣男儿" />





  <link rel="alternate" href="/atom.xml" title="布衣男儿" type="application/atom+xml" />




  <link rel="shortcut icon" type="image/x-icon" href="/favicon.ico?v=5.1.1" />






<meta name="description" content="Instruments快速入门 - 来自 Kindle 伴侣 	 	 	 	 	 	 	   	 		 			 				 Instruments快速入门 67 			 		 		 			 				 					 返回目录 				 			 		 		 			 				 					使用 Instruments User Interface 工具，你可以在 收集数据的过程中记录用户事件。你">
<meta property="og:type" content="website">
<meta property="og:title" content="布衣男儿">
<meta property="og:url" content="https://huos3203.github.io/MyClippings/html/Instruments快速入门.html">
<meta property="og:site_name" content="布衣男儿">
<meta property="og:description" content="Instruments快速入门 - 来自 Kindle 伴侣 	 	 	 	 	 	 	   	 		 			 				 Instruments快速入门 67 			 		 		 			 				 					 返回目录 				 			 		 		 			 				 					使用 Instruments User Interface 工具，你可以在 收集数据的过程中记录用户事件。你">
<meta property="og:locale" content="zh-Hans">
<meta property="og:updated_time" content="2018-03-28T07:42:14.000Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="布衣男儿">
<meta name="twitter:description" content="Instruments快速入门 - 来自 Kindle 伴侣 	 	 	 	 	 	 	   	 		 			 				 Instruments快速入门 67 			 		 		 			 				 					 返回目录 				 			 		 		 			 				 					使用 Instruments User Interface 工具，你可以在 收集数据的过程中记录用户事件。你">



<script type="text/javascript" id="hexo.configurations">
  var NexT = window.NexT || {};
  var CONFIG = {
    root: '/',
    scheme: 'Mist',
    sidebar: {"position":"right","display":"post","offset":12,"offset_float":0,"b2t":false},
    fancybox: true,
    motion: true,
    duoshuo: {
      userId: '7069931',
      author: '布衣男儿'
    },
    algolia: {
      applicationID: '',
      apiKey: '',
      indexName: '',
      hits: {"per_page":10},
      labels: {"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}
    }
  };
</script>
<script>
    (function(){
        if(''){
            if (prompt('请输入文章密码') !== ''){
                alert('密码错误！');
                history.back();
            }
        }
    })();
</script>


  <link rel="canonical" href="https://huos3203.github.io/MyClippings/html/Instruments快速入门.html"/>






<script>
(function(i,s,o,g,r,a,m){i["DaoVoiceObject"]=r;i[r]=i[r]||function(){(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;a.charset="utf-8";m.parentNode.insertBefore(a,m)})(window,document,"script",('https:' == document.location.protocol ? 'https:' : 'http:') + "//widget.daovoice.io/widget/0f81ff2f.js","daovoice")
daovoice('init', {
app_id: "4262b162"
});
daovoice('update');
</script>


  <title> | 布衣男儿</title>
</head>

<body itemscope itemtype="http://schema.org/WebPage" lang="zh-Hans">

  





  <script type="text/javascript">
    var _hmt = _hmt || [];
    (function() {
      var hm = document.createElement("script");
      hm.src = "https://hm.baidu.com/hm.js?b4a2528a681e2f23855d15a4de0abfc2";
      var s = document.getElementsByTagName("script")[0];
      s.parentNode.insertBefore(hm, s);
    })();
  </script>









  
  
    
  

  <div class="container sidebar-position-right  ">
    <div class="headband"></div>
    <a href="https://github.com/huos3203"><img style="position: absolute; top: 0; right: 0; border: 0;" src="https://s3.amazonaws.com/github/ribbons/forkme_right_white_ffffff.png" alt="Fork me on GitHub"></a>
    <header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-wrapper">
  <div class="site-meta ">
    

    <div class="custom-logo-site-title">
      <a href="/"  class="brand" rel="start">
        <span class="logo-line-before"><i></i></span>
        <span class="site-title">布衣男儿</span>
        <span class="logo-line-after"><i></i></span>
      </a>
    </div>
      
        <p class="site-subtitle">不物喜，不己悲，善假物，易参行！</p>
      
  </div>

  <div class="site-nav-toggle">
    <button>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
    </button>
  </div>
</div>

<nav class="site-nav">
  

  
    <ul id="menu" class="menu">
      
        
        <li class="menu-item menu-item-home">
          <a href="/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-home"></i> <br />
            
            首页
          </a>
        </li>
      
        
        <li class="menu-item menu-item-categories">
          <a href="/categories" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-th"></i> <br />
            
            分类
          </a>
        </li>
      
        
        <li class="menu-item menu-item-about">
          <a href="/about" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-user"></i> <br />
            
            关于
          </a>
        </li>
      
        
        <li class="menu-item menu-item-archives">
          <a href="/archives" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-archive"></i> <br />
            
            归档
          </a>
        </li>
      
        
        <li class="menu-item menu-item-tags">
          <a href="/tags" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-tags"></i> <br />
            
            标签
          </a>
        </li>
      

      
        <li class="menu-item menu-item-search">
          
            <a href="javascript:;" class="st-search-show-outputs">
          
            
              <i class="menu-item-icon fa fa-search fa-fw"></i> <br />
            
            搜索
          </a>
        </li>
      
    </ul>
  

  
    <div class="site-search">
      
  <form class="site-search-form">
  <input type="text" id="st-search-input" class="st-search-input st-default-search-input" />
</form>

<script type="text/javascript">
  (function(w,d,t,u,n,s,e){w['SwiftypeObject']=n;w[n]=w[n]||function(){
    (w[n].q=w[n].q||[]).push(arguments);};s=d.createElement(t);
    e=d.getElementsByTagName(t)[0];s.async=1;s.src=u;e.parentNode.insertBefore(s,e);
  })(window,document,'script','//s.swiftypecdn.com/install/v2/st.js','_st');

  _st('install', 'dazsKTijnsz_zi-bXB3t','2.0.0');
</script>



    </div>
  
</nav>



 </div>
    </header>

    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          <div id="content" class="content">
            

  <div id="posts" class="posts-expand">
  <header class="post-header">
	<h1 class="post-title" itemprop="name headline"></h1>



</header>

    
    
      <link rel="stylesheet" href="/owl.css"><!DOCTYPE html>
<html>
	<head>
	<meta charset="utf-8">
	<title>Instruments快速入门 - 来自 Kindle 伴侣</title>
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<link href="../style/css/bootstrap.min.css" rel="stylesheet" type="text/css">
	<link href="../style/css/bootstrap-theme.min.css" rel="stylesheet" type="text/css">
	<link href="../style/css/custom.css" rel="stylesheet" type="text/css">
	<script type="text/javascript" src="../style/js/jquery-1.12.2.min.js"></script>
	<script type="text/javascript" src="../style/js/bootstrap.min.js"></script>
	<script type="text/javascript" src="../style/js/custom.js"></script>
</head>
<body>
	<div class="container">
		<header class="header col-md-12">
			<div class="page-header">
				<h1><small><span class="glyphicon glyphicon-book" aria-hidden="true"></span> Instruments快速入门</small> <span class="badge">67</span></h1>
			</div>
		</header>
		<div class="col-md-2">
			<ul class="nav nav-pills nav-stacked">
				<li role="presentation" class="active text-center">
					<a href="../index.html"><span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span> 返回目录</a>
				</li>
			</ul>
		</div>
		<div class="col-md-10">
			<article>
				<div class="panel panel-default">
					<div class="panel-body mk9"><p>使用 Instruments User Interface 工具，你可以在 收集数据的过程中记录用户事件。你可以使用这些数据来可靠的重复重现这一系列</p></div>
					<div class="panel-footer text-right">
						<span class="label label-primary"><span class="glyphicon glyphicon-tag" aria-hidden="true"></span> 标注</span> 
						<span class="label label-default"><span class="glyphicon glyphicon-bookmark" aria-hidden="true"></span> 第 9-9 页</span> 
						<span class="label label-default"><span class="glyphicon glyphicon-time" aria-hidden="true"></span> 2017年4月12日 星期三 下午7:48:43</span>
					</div>
				</div>
			</article>
			<article>
				<div class="panel panel-default">
					<div class="panel-body mk9"><p>使用 Instruments User Interface 工具，你可以在 收集数据的过程中记录用户事件。你可以使用这些数据来可靠的重复重现这一系列有 序的事件</p></div>
					<div class="panel-footer text-right">
						<span class="label label-primary"><span class="glyphicon glyphicon-tag" aria-hidden="true"></span> 标注</span> 
						<span class="label label-default"><span class="glyphicon glyphicon-bookmark" aria-hidden="true"></span> 第 9-9 页</span> 
						<span class="label label-default"><span class="glyphicon glyphicon-time" aria-hidden="true"></span> 2017年4月12日 星期三 下午7:48:55</span>
					</div>
				</div>
			</article>
			<article>
				<div class="panel panel-default">
					<div class="panel-body mk11"><p>correlate</p></div>
					<div class="panel-footer text-right">
						<span class="label label-primary"><span class="glyphicon glyphicon-tag" aria-hidden="true"></span> 标注</span> 
						<span class="label label-default"><span class="glyphicon glyphicon-bookmark" aria-hidden="true"></span> 第 11 页</span> 
						<span class="label label-default"><span class="glyphicon glyphicon-time" aria-hidden="true"></span> 2017年4月12日 星期三 下午8:00:57</span>
					</div>
				</div>
			</article>
			<article>
				<div class="panel panel-default">
					<div class="panel-body mk15"><p>Instruments 会把 Activity Monitor instruments 工具添加到跟踪文档里面</p></div>
					<div class="panel-footer text-right">
						<span class="label label-primary"><span class="glyphicon glyphicon-tag" aria-hidden="true"></span> 标注</span> 
						<span class="label label-default"><span class="glyphicon glyphicon-bookmark" aria-hidden="true"></span> 第 15-15 页</span> 
						<span class="label label-default"><span class="glyphicon glyphicon-time" aria-hidden="true"></span> 2017年4月12日 星期三 下午8:20:18</span>
					</div>
				</div>
			</article>
			<article>
				<div class="panel panel-default">
					<div class="panel-body mk15"><p>记住程序分析是一门艺术也是门科学。在科学方面，也有一些可以遵循的指南来 发现问题。比如，如果你的应用程序占用内存过大，那么有可能是应用程序在某些地 方分页，导致性能表现不佳。艺术方面，因为每个应用程序如何减少内存占用的方案 四不同的。是否应用程序收集的数据过多？是否它加载太多而又没有使用的的库？是 否内存泄露？这些都是你需要问你自己的问题</p></div>
					<div class="panel-footer text-right">
						<span class="label label-primary"><span class="glyphicon glyphicon-tag" aria-hidden="true"></span> 标注</span> 
						<span class="label label-default"><span class="glyphicon glyphicon-bookmark" aria-hidden="true"></span> 第 15-15 页</span> 
						<span class="label label-default"><span class="glyphicon glyphicon-time" aria-hidden="true"></span> 2017年4月12日 星期三 下午8:23:28</span>
					</div>
				</div>
			</article>
			<article>
				<div class="panel panel-default">
					<div class="panel-body mk32"><p>单击你的跟踪文档里面的 Pause 按钮。Instruments 应用暂时停止收集数据， 但是并没有停止当前正在执行的记录</p></div>
					<div class="panel-footer text-right">
						<span class="label label-primary"><span class="glyphicon glyphicon-tag" aria-hidden="true"></span> 标注</span> 
						<span class="label label-default"><span class="glyphicon glyphicon-bookmark" aria-hidden="true"></span> 第 32-32 页</span> 
						<span class="label label-default"><span class="glyphicon glyphicon-time" aria-hidden="true"></span> 2017年4月12日 星期三 下午8:55:42</span>
					</div>
				</div>
			</article>
			<article>
				<div class="panel panel-default">
					<div class="panel-body mk31"><p>两个不同的记录模式之一来收集数据</p></div>
					<div class="panel-footer text-right">
						<span class="label label-primary"><span class="glyphicon glyphicon-tag" aria-hidden="true"></span> 标注</span> 
						<span class="label label-default"><span class="glyphicon glyphicon-bookmark" aria-hidden="true"></span> 第 31-31 页</span> 
						<span class="label label-default"><span class="glyphicon glyphicon-time" aria-hidden="true"></span> 2017年4月12日 星期三 下午8:56:12</span>
					</div>
				</div>
			</article>
			<article>
				<div class="panel panel-default">
					<div class="panel-body mk32"><p>快速启动键是全局组合键，它可以让你启动 Instruments 应用程序并使用指定的 文档模板立即开始收集跟踪数据</p></div>
					<div class="panel-footer text-right">
						<span class="label label-primary"><span class="glyphicon glyphicon-tag" aria-hidden="true"></span> 标注</span> 
						<span class="label label-default"><span class="glyphicon glyphicon-bookmark" aria-hidden="true"></span> 第 32-32 页</span> 
						<span class="label label-default"><span class="glyphicon glyphicon-time" aria-hidden="true"></span> 2017年4月12日 星期三 下午8:57:51</span>
					</div>
				</div>
			</article>
			<article>
				<div class="panel panel-default">
					<div class="panel-body mk33"><p>为了使用快速启动键来给应用程序收集数据，你要做以下步骤：</p>
<p>1. 把光标放在属于你要跟踪的应用程序的窗口上面。</p>
<p>2. 按下合适的组合键来开始跟踪。</p>
<p>3. 运行应用程序。</p>
<p>4. 当你想停止跟踪的时候，你有两种选择：</p>
<p>z 把光标放在其中之一的应用程序窗口上面，再次按下组合键。</p>
<p>z 找到已经打开的跟踪文档并按下 Stop 按钮。</p>
<p>因为快速启动键要求你把光标移动到其中一个应用程序窗口之上，你可以使用同 一个快速启动键来给不同的应用程序初始化多个跟踪对话而无需停止任何之前的跟 踪。你也可以使用不同的组合键来给同一个应用程序开始不同类型的跟踪，并让它们 在同一个时间收集所有的数据。</p>
<p>3.4 以最小模式运行 最小模式（Mini mode）为你提供了一种在收集数据的时候尽量减少 Instruments 应用程序可视化尺寸的方法。当你从特定类型的应用程序收集数据的时候，尤其是面 向图形的应用程序，在你集中于你应用程序的时候，很多时候你需要收集你的数据。</p>
<p>最小模式隐藏很多打开的跟踪文档，在它们的地方显示很多浮动的窗口，你可以使用 它们来开始和停止跟踪。最小模式的一个优点是 Instruments 应用程序本身需要很少 的绘画，所以对系统性能影响很少。</p>
<p>图 3-4 显示了打开几个跟踪文档的最小化 Instruments 应用窗口。Instruments 应用在最小模式的时候同一时间只显示三个跟踪文档，但是你可以使用向上和向下箭 头来找你想要的跟踪文档。</p>
<p>2011-12-07 | © 2011 YouMi Mobile Co. Ltd. All Rights Reserved. [28]</p></div>
					<div class="panel-footer text-right">
						<span class="label label-primary"><span class="glyphicon glyphicon-tag" aria-hidden="true"></span> 标注</span> 
						<span class="label label-default"><span class="glyphicon glyphicon-bookmark" aria-hidden="true"></span> 第 33-33 页</span> 
						<span class="label label-default"><span class="glyphicon glyphicon-time" aria-hidden="true"></span> 2017年4月12日 星期三 下午8:59:12</span>
					</div>
				</div>
			</article>
			<article>
				<div class="panel panel-default">
					<div class="panel-body mk33"><p>为了使用快速启动键来给应用程序收集数据，你要做以下步骤：</p>
<p>1. 把光标放在属于你要跟踪的应用程序的窗口上面。</p>
<p>2. 按下合适的组合键来开始跟踪</p></div>
					<div class="panel-footer text-right">
						<span class="label label-primary"><span class="glyphicon glyphicon-tag" aria-hidden="true"></span> 标注</span> 
						<span class="label label-default"><span class="glyphicon glyphicon-bookmark" aria-hidden="true"></span> 第 33-33 页</span> 
						<span class="label label-default"><span class="glyphicon glyphicon-time" aria-hidden="true"></span> 2017年4月12日 星期三 下午8:59:41</span>
					</div>
				</div>
			</article>
			<article>
				<div class="panel panel-default">
					<div class="panel-body mk33"><p>当你想停止跟踪的时候，你有两种选择：</p>
<p>z 把光标放在其中之一的应用程序窗口上面，再次按下组合键。</p>
<p>z 找到已经打开的跟踪文档并按下 Stop 按钮</p></div>
					<div class="panel-footer text-right">
						<span class="label label-primary"><span class="glyphicon glyphicon-tag" aria-hidden="true"></span> 标注</span> 
						<span class="label label-default"><span class="glyphicon glyphicon-bookmark" aria-hidden="true"></span> 第 33-33 页</span> 
						<span class="label label-default"><span class="glyphicon glyphicon-time" aria-hidden="true"></span> 2017年4月12日 星期三 下午9:00:16</span>
					</div>
				</div>
			</article>
			<article>
				<div class="panel panel-default">
					<div class="panel-body mk33"><p>最小模式（Mini mode）为你提供了一种在收集数据的时候尽量减少 Instruments 应用程序可视化尺寸的方法</p></div>
					<div class="panel-footer text-right">
						<span class="label label-primary"><span class="glyphicon glyphicon-tag" aria-hidden="true"></span> 标注</span> 
						<span class="label label-default"><span class="glyphicon glyphicon-bookmark" aria-hidden="true"></span> 第 33-33 页</span> 
						<span class="label label-default"><span class="glyphicon glyphicon-time" aria-hidden="true"></span> 2017年4月12日 星期三 下午9:01:11</span>
					</div>
				</div>
			</article>
			<article>
				<div class="panel panel-default">
					<div class="panel-body mk34"><p>为了启用最小模式，选择 View > Mini Instruments。为了禁用最小模式，单击 最小模式的 Instruments 窗口的关闭框。你也可以在标准和最小模式之间切换，通过 选择 View > Mini Instruments。</p>
<p>3.5 从Xcode运行Instruments应用 在开发期间，你可以从 Xcode 3 的用户界面直接加载你的应用程序到 Instruments 应用里面。这个整合功能可以让你同时快速的加载 Instruments 应用和收集跟踪数 据，那会启动你的程序并使用 GDB 调试它。</p>
<p>Xcode 3 里面的 Run > Run with Performance Tool 子菜单提供了几种使用可用 性 能 工 具 来 加 载 你 程 序 的 方 法 ， 包 括 Instruments 。</p>
<p>当 加 载 你 的 应 用 程 序 到 Instruments 应用的时候，你可以通过选择合适的菜单项目告诉 Xcode 你想要使用的 Instruments 模板。Xcode 加载 Instruments,使用特定的模板新建跟踪文档，为你的 程序设置目标，并告诉 Instruments 来加载你的程序和开始记录数据。</p>
<p>除了在 Run with Performance Tool 子菜单已有的模板，Xcode 同样允许你添加 自定义的跟踪模板到菜单栏。关于更多如何保存一个跟踪模板并把它添加到菜单的信 息，参阅“保存 Instruments 跟踪模板”部分。</p>
<p>3.6 无线连接iOS设备 为了使用扩展访问给 iOS 应用程序收集数据，你可以在 Instruments 应用和你的 设备之间建立一个无线连接。当一个无线设备不切实际或不方便的时候你也可以使无 2011-12-07 | © 2011 YouMi Mobile Co. Ltd. All Rights Reserved. [29]</p></div>
					<div class="panel-footer text-right">
						<span class="label label-primary"><span class="glyphicon glyphicon-tag" aria-hidden="true"></span> 标注</span> 
						<span class="label label-default"><span class="glyphicon glyphicon-bookmark" aria-hidden="true"></span> 第 34-34 页</span> 
						<span class="label label-default"><span class="glyphicon glyphicon-time" aria-hidden="true"></span> 2017年4月12日 星期三 下午10:24:42</span>
					</div>
				</div>
			</article>
			<article>
				<div class="panel panel-default">
					<div class="panel-body mk34"><p>无线连接iOS设备</p></div>
					<div class="panel-footer text-right">
						<span class="label label-primary"><span class="glyphicon glyphicon-tag" aria-hidden="true"></span> 标注</span> 
						<span class="label label-default"><span class="glyphicon glyphicon-bookmark" aria-hidden="true"></span> 第 34-34 页</span> 
						<span class="label label-default"><span class="glyphicon glyphicon-time" aria-hidden="true"></span> 2017年4月12日 星期三 下午10:30:46</span>
					</div>
				</div>
			</article>
			<article>
				<div class="panel panel-default">
					<div class="panel-body mk37"><p>在事件被记录之后，你可以多 次回放跟踪来反复生成相同的一系列事件</p></div>
					<div class="panel-footer text-right">
						<span class="label label-primary"><span class="glyphicon glyphicon-tag" aria-hidden="true"></span> 标注</span> 
						<span class="label label-default"><span class="glyphicon glyphicon-bookmark" aria-hidden="true"></span> 第 37-37 页</span> 
						<span class="label label-default"><span class="glyphicon glyphicon-time" aria-hidden="true"></span> 2017年4月12日 星期三 下午10:31:49</span>
					</div>
				</div>
			</article>
			<article>
				<div class="panel panel-default">
					<div class="panel-body mk37"><p>使用 User Interface 的 instrument 工具来记录用户界面轨迹</p></div>
					<div class="panel-footer text-right">
						<span class="label label-primary"><span class="glyphicon glyphicon-tag" aria-hidden="true"></span> 标注</span> 
						<span class="label label-default"><span class="glyphicon glyphicon-bookmark" aria-hidden="true"></span> 第 37-37 页</span> 
						<span class="label label-default"><span class="glyphicon glyphicon-time" aria-hidden="true"></span> 2017年4月12日 星期三 下午10:32:33</span>
					</div>
				</div>
			</article>
			<article>
				<div class="panel panel-default">
					<div class="panel-body mk37"><p>使用 UI Recorder 模板来新建一个新的跟踪文档，Instruments 应用会自动为你添 加 User Interface 的 instrument 工具到文档里面。</p></div>
					<div class="panel-footer text-right">
						<span class="label label-primary"><span class="glyphicon glyphicon-tag" aria-hidden="true"></span> 标注</span> 
						<span class="label label-default"><span class="glyphicon glyphicon-bookmark" aria-hidden="true"></span> 第 37-37 页</span> 
						<span class="label label-default"><span class="glyphicon glyphicon-time" aria-hidden="true"></span> 2017年4月12日 星期三 下午10:33:24</span>
					</div>
				</div>
			</article>
			<article>
				<div class="panel panel-default">
					<div class="panel-body mk39"><p>Action 设置会被找到设置为 Drive。为了重新捕获，你必须修改设置为 Capture。完成这些之后，你可以开始记录新的事件序列了</p></div>
					<div class="panel-footer text-right">
						<span class="label label-primary"><span class="glyphicon glyphicon-tag" aria-hidden="true"></span> 标注</span> 
						<span class="label label-default"><span class="glyphicon glyphicon-bookmark" aria-hidden="true"></span> 第 39-39 页</span> 
						<span class="label label-default"><span class="glyphicon glyphicon-time" aria-hidden="true"></span> 2017年4月12日 星期三 下午10:37:27</span>
					</div>
				</div>
			</article>
			<article>
				<div class="panel panel-default">
					<div class="panel-body mk39"><p>当收集跟踪数据时，你可以点击文档工具栏的 Loop 按钮来让 Instruments 应用 多次重复用户界面轨迹的事件。该按钮是黏性的，所以单击它启动循环而再次单击则 禁用循环</p></div>
					<div class="panel-footer text-right">
						<span class="label label-primary"><span class="glyphicon glyphicon-tag" aria-hidden="true"></span> 标注</span> 
						<span class="label label-default"><span class="glyphicon glyphicon-bookmark" aria-hidden="true"></span> 第 39-39 页</span> 
						<span class="label label-default"><span class="glyphicon glyphicon-time" aria-hidden="true"></span> 2017年4月12日 星期三 下午10:39:24</span>
					</div>
				</div>
			</article>
			<article>
				<div class="panel panel-default">
					<div class="panel-body mk40"><p>你也可以使用循环来让你的应用程序持续工作来对 它进行压力测试</p></div>
					<div class="panel-footer text-right">
						<span class="label label-primary"><span class="glyphicon glyphicon-tag" aria-hidden="true"></span> 标注</span> 
						<span class="label label-default"><span class="glyphicon glyphicon-bookmark" aria-hidden="true"></span> 第 40-40 页</span> 
						<span class="label label-default"><span class="glyphicon glyphicon-time" aria-hidden="true"></span> 2017年4月12日 星期三 下午10:39:57</span>
					</div>
				</div>
			</article>
			<article>
				<div class="panel panel-default">
					<div class="panel-body mk41"><p>这里的每个控件显示的都是你跟踪文档里面相同的数据。它们只是以不同的方式 显示而已，关于每个数据点从高级的预览到详细的信息等。这样可以让你以不同的方 式来查看你的数据。你可以通过查看高级的数据来分析变化趋势，然后查看详细的数 据来确定在你的代码中将要发生的事情和制定关于如何解决潜在问题的思路</p></div>
					<div class="panel-footer text-right">
						<span class="label label-primary"><span class="glyphicon glyphicon-tag" aria-hidden="true"></span> 标注</span> 
						<span class="label label-default"><span class="glyphicon glyphicon-bookmark" aria-hidden="true"></span> 第 41-41 页</span> 
						<span class="label label-default"><span class="glyphicon glyphicon-time" aria-hidden="true"></span> 2017年4月12日 星期三 下午10:41:48</span>
					</div>
				</div>
			</article>
			<article>
				<div class="panel panel-default">
					<div class="panel-body mk42"><p>一个 instrument 工具（例如 Spin Monitor instrument）也 同样可以指出你程序反应迟钝的地方。如果 Spin Monitor 的图形相对是空白的，你 就知道你的程序是正常响应，但如果该图形不空白，那么你可能需要核查为什么会出 现这样的情况。</p></div>
					<div class="panel-footer text-right">
						<span class="label label-primary"><span class="glyphicon glyphicon-tag" aria-hidden="true"></span> 标注</span> 
						<span class="label label-default"><span class="glyphicon glyphicon-bookmark" aria-hidden="true"></span> 第 42-42 页</span> 
						<span class="label label-default"><span class="glyphicon glyphicon-time" aria-hidden="true"></span> 2017年4月12日 星期三 下午10:44:37</span>
					</div>
				</div>
			</article>
			<article>
				<div class="panel panel-default">
					<div class="panel-body mk42"><p>点击时间线并移动播放头来定位和 显示检查器的旗帜(inspection flags)，该旗帜总结了 Instrument 中该定位地方的 信息</p></div>
					<div class="panel-footer text-right">
						<span class="label label-primary"><span class="glyphicon glyphicon-tag" aria-hidden="true"></span> 标注</span> 
						<span class="label label-default"><span class="glyphicon glyphicon-bookmark" aria-hidden="true"></span> 第 42-42 页</span> 
						<span class="label label-default"><span class="glyphicon glyphicon-time" aria-hidden="true"></span> 2017年4月12日 星期三 下午10:45:21</span>
					</div>
				</div>
			</article>
			<article>
				<div class="panel panel-default">
					<div class="panel-body mk42"><p>一个跟踪运行(trace run)构成由你点击了 Record 按钮来开 始收集到点击 Stop 按钮来停止收集之间的数据</p></div>
					<div class="panel-footer text-right">
						<span class="label label-primary"><span class="glyphicon glyphicon-tag" aria-hidden="true"></span> 标注</span> 
						<span class="label label-default"><span class="glyphicon glyphicon-bookmark" aria-hidden="true"></span> 第 42-42 页</span> 
						<span class="label label-default"><span class="glyphicon glyphicon-time" aria-hidden="true"></span> 2017年4月12日 星期三 下午10:47:55</span>
					</div>
				</div>
			</article>
			<article>
				<div class="panel panel-default">
					<div class="panel-body mk43"><p>当你正在尝试重 现一个并不是每次运行都可以出现的问题时，你可以收集多个跟踪运行的数据，创建 新的跟踪运行直到问题出现</p></div>
					<div class="panel-footer text-right">
						<span class="label label-primary"><span class="glyphicon glyphicon-tag" aria-hidden="true"></span> 标注</span> 
						<span class="label label-default"><span class="glyphicon glyphicon-bookmark" aria-hidden="true"></span> 第 43-43 页</span> 
						<span class="label label-default"><span class="glyphicon glyphicon-time" aria-hidden="true"></span> 2017年4月12日 星期三 下午10:49:49</span>
					</div>
				</div>
			</article>
			<article>
				<div class="panel panel-default">
					<div class="panel-body mk43"><p>然而如果你想要使用相同的事件集来比较多个跟踪运 行，你需要创建新的用户界面轨迹和一个想要的进程，该进程在“使用用户界面轨 迹”部分介绍</p></div>
					<div class="panel-footer text-right">
						<span class="label label-primary"><span class="glyphicon glyphicon-tag" aria-hidden="true"></span> 标注</span> 
						<span class="label label-default"><span class="glyphicon glyphicon-bookmark" aria-hidden="true"></span> 第 43-43 页</span> 
						<span class="label label-default"><span class="glyphicon glyphicon-time" aria-hidden="true"></span> 2017年4月12日 星期三 下午10:50:17</span>
					</div>
				</div>
			</article>
			<article>
				<div class="panel panel-default">
					<div class="panel-body mk43"><p>当你保存一个跟踪文档，Instruments 应用通常会摒弃所有跟踪运行的数据，除 了你当前选择的那个。</p></div>
					<div class="panel-footer text-right">
						<span class="label label-primary"><span class="glyphicon glyphicon-tag" aria-hidden="true"></span> 标注</span> 
						<span class="label label-default"><span class="glyphicon glyphicon-bookmark" aria-hidden="true"></span> 第 43-43 页</span> 
						<span class="label label-default"><span class="glyphicon glyphicon-time" aria-hidden="true"></span> 2017年4月12日 星期三 下午10:51:30</span>
					</div>
				</div>
			</article>
			<article>
				<div class="panel panel-default">
					<div class="panel-body mk43"><p>如果你想要保存你 跟踪文档里面所有跟踪运行的数据，进入 Instruments 应用的偏好设置的 General， 并取消勾选 Save Current Run Only 选项</p></div>
					<div class="panel-footer text-right">
						<span class="label label-primary"><span class="glyphicon glyphicon-tag" aria-hidden="true"></span> 标注</span> 
						<span class="label label-default"><span class="glyphicon glyphicon-bookmark" aria-hidden="true"></span> 第 43-43 页</span> 
						<span class="label label-default"><span class="glyphicon glyphicon-time" aria-hidden="true"></span> 2017年4月12日 星期三 下午10:51:57</span>
					</div>
				</div>
			</article>
			<article>
				<div class="panel panel-default">
					<div class="panel-body mk44"><p>Statistics to Graph 列 出了所有由 instrument 工具收集的整型的数据</p></div>
					<div class="panel-footer text-right">
						<span class="label label-primary"><span class="glyphicon glyphicon-tag" aria-hidden="true"></span> 标注</span> 
						<span class="label label-default"><span class="glyphicon glyphicon-bookmark" aria-hidden="true"></span> 第 44-44 页</span> 
						<span class="label label-default"><span class="glyphicon glyphicon-time" aria-hidden="true"></span> 2017年4月12日 星期三 下午10:53:03</span>
					</div>
				</div>
			</article>
			<article>
				<div class="panel panel-default">
					<div class="panel-body mk44"><p>为 了 编 辑 Statistics to Graph 里面 统 计 的 列 表 ， 选 择 Configure 按钮。</p></div>
					<div class="panel-footer text-right">
						<span class="label label-primary"><span class="glyphicon glyphicon-tag" aria-hidden="true"></span> 标注</span> 
						<span class="label label-default"><span class="glyphicon glyphicon-bookmark" aria-hidden="true"></span> 第 44-44 页</span> 
						<span class="label label-default"><span class="glyphicon glyphicon-time" aria-hidden="true"></span> 2017年4月12日 星期三 下午10:54:08</span>
					</div>
				</div>
			</article>
			<article>
				<div class="panel panel-default">
					<div class="panel-body mk44"><p>修改跟踪显示的样式 Instruments 应 用 提 供 了 几 种 在 跟 踪 面 板 显 示 收 集 的 数 据 的 样 式</p></div>
					<div class="panel-footer text-right">
						<span class="label label-primary"><span class="glyphicon glyphicon-tag" aria-hidden="true"></span> 标注</span> 
						<span class="label label-default"><span class="glyphicon glyphicon-bookmark" aria-hidden="true"></span> 第 44-44 页</span> 
						<span class="label label-default"><span class="glyphicon glyphicon-time" aria-hidden="true"></span> 2017年4月12日 星期三 下午10:55:32</span>
					</div>
				</div>
			</article>
			<article>
				<div class="panel panel-default">
					<div class="panel-body mk46"><p>如 5-5 显示了和 File Activity instrument 相关的详细面板，它记录了和指定文件系统例程相关的 信息。这里面的详细面板显示了文件系统例程调用的方法和函数，使用的文件的描述， 和访问的文件的路径</p></div>
					<div class="panel-footer text-right">
						<span class="label label-primary"><span class="glyphicon glyphicon-tag" aria-hidden="true"></span> 标注</span> 
						<span class="label label-default"><span class="glyphicon glyphicon-bookmark" aria-hidden="true"></span> 第 46-46 页</span> 
						<span class="label label-default"><span class="glyphicon glyphicon-time" aria-hidden="true"></span> 2017年4月12日 星期三 下午10:58:38</span>
					</div>
				</div>
			</article>
			<article>
				<div class="panel panel-default">
					<div class="panel-body mk46"><p>修改详细面板的显示样式 对于部分 instruments 工具，你可以在详细面板里面使用多于一个格式显示数据</p></div>
					<div class="panel-footer text-right">
						<span class="label label-primary"><span class="glyphicon glyphicon-tag" aria-hidden="true"></span> 标注</span> 
						<span class="label label-default"><span class="glyphicon glyphicon-bookmark" aria-hidden="true"></span> 第 46-46 页</span> 
						<span class="label label-default"><span class="glyphicon glyphicon-time" aria-hidden="true"></span> 2017年4月12日 星期三 下午10:59:39</span>
					</div>
				</div>
			</article>
			<article>
				<div class="panel panel-default">
					<div class="panel-body mk48"><p>使 用 Inspection Range 控件（如图 5-7 所示）来聚焦在某个特定的时间范围收集的数据</p></div>
					<div class="panel-footer text-right">
						<span class="label label-primary"><span class="glyphicon glyphicon-tag" aria-hidden="true"></span> 标注</span> 
						<span class="label label-default"><span class="glyphicon glyphicon-bookmark" aria-hidden="true"></span> 第 48-48 页</span> 
						<span class="label label-default"><span class="glyphicon glyphicon-time" aria-hidden="true"></span> 2017年4月12日 星期三 下午11:04:26</span>
					</div>
				</div>
			</article>
			<article>
				<div class="panel panel-default">
					<div class="panel-body mk49"><p>你也可以在跟踪面板里面预设的 insturment 工具上通过按住 Option 键并单击和 拖动核查范围来设置它的区域。单击并拖动鼠标活跃的 instrument 工具（如果它尚 未活跃），并根据 instrument 工具来使用鼠标按下和鼠标放开来设置范围</p></div>
					<div class="panel-footer text-right">
						<span class="label label-primary"><span class="glyphicon glyphicon-tag" aria-hidden="true"></span> 标注</span> 
						<span class="label label-default"><span class="glyphicon glyphicon-bookmark" aria-hidden="true"></span> 第 49-49 页</span> 
						<span class="label label-default"><span class="glyphicon glyphicon-time" aria-hidden="true"></span> 2017年4月12日 星期三 下午11:05:48</span>
					</div>
				</div>
			</article>
			<article>
				<div class="panel panel-default">
					<div class="panel-body mk49"><p>清空核查范围，单击 Inspection Range 控件里面中间的按钮。</p></div>
					<div class="panel-footer text-right">
						<span class="label label-primary"><span class="glyphicon glyphicon-tag" aria-hidden="true"></span> 标注</span> 
						<span class="label label-default"><span class="glyphicon glyphicon-bookmark" aria-hidden="true"></span> 第 49-49 页</span> 
						<span class="label label-default"><span class="glyphicon glyphicon-time" aria-hidden="true"></span> 2017年4月12日 星期三 下午11:06:07</span>
					</div>
				</div>
			</article>
			<article>
				<div class="panel panel-default">
					<div class="panel-body mk50"><p>如你有一个 Xcode 项目，它的源码字符被列举在堆栈跟踪上面，你可以单击一个 字符的名称来在扩展详细面板里面显示相关的源码。该源码被标注为和性能有关</p></div>
					<div class="panel-footer text-right">
						<span class="label label-primary"><span class="glyphicon glyphicon-tag" aria-hidden="true"></span> 标注</span> 
						<span class="label label-default"><span class="glyphicon glyphicon-bookmark" aria-hidden="true"></span> 第 50-50 页</span> 
						<span class="label label-default"><span class="glyphicon glyphicon-time" aria-hidden="true"></span> 2017年4月12日 星期三 下午11:11:51</span>
					</div>
				</div>
			</article>
			<article>
				<div class="panel panel-default">
					<div class="panel-body mk51"><p>运行浏览器是一个快速查看和管理之前运行的方法。如果你的跟踪文档包含数个 运行，你可以使用该模式在列表的顶部扫描你想要并促进它的运行。你也可以删除这 些运行，并给当前视图的运行添加注释</p></div>
					<div class="panel-footer text-right">
						<span class="label label-primary"><span class="glyphicon glyphicon-tag" aria-hidden="true"></span> 标注</span> 
						<span class="label label-default"><span class="glyphicon glyphicon-bookmark" aria-hidden="true"></span> 第 51-51 页</span> 
						<span class="label label-default"><span class="glyphicon glyphicon-time" aria-hidden="true"></span> 2017年4月12日 星期三 下午11:13:25</span>
					</div>
				</div>
			</article>
			<article>
				<div class="panel panel-default">
					<div class="panel-body mk52"><p>收集和查看跟踪数据很简单。但是分析数据并定位潜在的问题就比较困难。后者 的任务把性能调优和调试的艺术变为现实</p></div>
					<div class="panel-footer text-right">
						<span class="label label-primary"><span class="glyphicon glyphicon-tag" aria-hidden="true"></span> 标注</span> 
						<span class="label label-default"><span class="glyphicon glyphicon-bookmark" aria-hidden="true"></span> 第 52-52 页</span> 
						<span class="label label-default"><span class="glyphicon glyphicon-time" aria-hidden="true"></span> 2017年4月12日 星期三 下午11:14:38</span>
					</div>
				</div>
			</article>
			<article>
				<div class="panel panel-default">
					<div class="panel-body mk52"><p>Sampler instrument 工具是一个在运行的程序上面执行统计分析的工具。执行样 本统计包括在定期停止应用程序并记录在那个一刻执行的信息</p></div>
					<div class="panel-footer text-right">
						<span class="label label-primary"><span class="glyphicon glyphicon-tag" aria-hidden="true"></span> 标注</span> 
						<span class="label label-default"><span class="glyphicon glyphicon-bookmark" aria-hidden="true"></span> 第 52-52 页</span> 
						<span class="label label-default"><span class="glyphicon glyphicon-time" aria-hidden="true"></span> 2017年4月12日 星期三 下午11:16:09</span>
					</div>
				</div>
			</article>
			<article>
				<div class="panel panel-default">
					<div class="panel-body mk52"><p>样本统计的优点是它是一个轻量级的并很方便的方式来发现你应用程序在一个 周期里面所做的工作</p></div>
					<div class="panel-footer text-right">
						<span class="label label-primary"><span class="glyphicon glyphicon-tag" aria-hidden="true"></span> 标注</span> 
						<span class="label label-default"><span class="glyphicon glyphicon-bookmark" aria-hidden="true"></span> 第 52-52 页</span> 
						<span class="label label-default"><span class="glyphicon glyphicon-time" aria-hidden="true"></span> 2017年4月12日 星期三 下午11:16:49</span>
					</div>
				</div>
			</article>
			<article>
				<div class="panel panel-default">
					<div class="panel-body mk52"><p>该技术可以在任何没有安装特别的插件代码的应用程序里面使 用，而且它通常提供了一个合理准确了解你应用程序的运行行为的图片</p></div>
					<div class="panel-footer text-right">
						<span class="label label-primary"><span class="glyphicon glyphicon-tag" aria-hidden="true"></span> 标注</span> 
						<span class="label label-default"><span class="glyphicon glyphicon-bookmark" aria-hidden="true"></span> 第 52-52 页</span> 
						<span class="label label-default"><span class="glyphicon glyphicon-time" aria-hidden="true"></span> 2017年4月12日 星期三 下午11:17:15</span>
					</div>
				</div>
			</article>
			<article>
				<div class="panel panel-default">
					<div class="panel-body mk53"><p>Sampler instrument 工具的主要目的是显示程序在该地方的地消耗的时间。它通 过给你显示什么函数被调用并且被调用的次数来达到该目的</p></div>
					<div class="panel-footer text-right">
						<span class="label label-primary"><span class="glyphicon glyphicon-tag" aria-hidden="true"></span> 标注</span> 
						<span class="label label-default"><span class="glyphicon glyphicon-bookmark" aria-hidden="true"></span> 第 53-53 页</span> 
						<span class="label label-default"><span class="glyphicon glyphicon-time" aria-hidden="true"></span> 2017年4月12日 星期三 下午11:19:08</span>
					</div>
				</div>
			</article>
			<article>
				<div class="panel panel-default">
					<div class="panel-body mk53"><p>可以查看每个线程的执行分支确认那个比其他拥有更多数 量的样本。扩展每个线程可以让你看到的独立的方法和函数，以及它们收集的样本数 据。为了一次性扩展整个层级结构，按下 Option 键并同时点击扩展三角形</p></div>
					<div class="panel-footer text-right">
						<span class="label label-primary"><span class="glyphicon glyphicon-tag" aria-hidden="true"></span> 标注</span> 
						<span class="label label-default"><span class="glyphicon glyphicon-bookmark" aria-hidden="true"></span> 第 53-53 页</span> 
						<span class="label label-default"><span class="glyphicon glyphicon-time" aria-hidden="true"></span> 2017年4月12日 星期三 下午11:21:24</span>
					</div>
				</div>
			</article>
			<article>
				<div class="panel panel-default">
					<div class="panel-body mk54"><p>Call Tree 的配置选项提供了几个方法来在不删除任何样本数据的前提下删减调 用树。当你</p></div>
					<div class="panel-footer text-right">
						<span class="label label-primary"><span class="glyphicon glyphicon-tag" aria-hidden="true"></span> 标注</span> 
						<span class="label label-default"><span class="glyphicon glyphicon-bookmark" aria-hidden="true"></span> 第 54-54 页</span> 
						<span class="label label-default"><span class="glyphicon glyphicon-time" aria-hidden="true"></span> 2017年4月12日 星期三 下午11:24:23</span>
					</div>
				</div>
			</article>
			<article>
				<div class="panel panel-default">
					<div class="panel-body mk54"><p>另外，Call Tree Constraints 实际上从视图里面移除了一组样本来让你集中于 你的满足特定条件的代码路径</p></div>
					<div class="panel-footer text-right">
						<span class="label label-primary"><span class="glyphicon glyphicon-tag" aria-hidden="true"></span> 标注</span> 
						<span class="label label-default"><span class="glyphicon glyphicon-bookmark" aria-hidden="true"></span> 第 54-54 页</span> 
						<span class="label label-default"><span class="glyphicon glyphicon-time" aria-hidden="true"></span> 2017年4月12日 星期三 下午11:25:10</span>
					</div>
				</div>
			</article>
			<article>
				<div class="panel panel-default">
					<div class="panel-body mk54"><p>Allocations instrument 工具是一个跟踪所有由应用程序分配的内存的工具。所 以你可以使用那些信息来识别在你应用程序里面的内存分配模式</p></div>
					<div class="panel-footer text-right">
						<span class="label label-primary"><span class="glyphicon glyphicon-tag" aria-hidden="true"></span> 标注</span> 
						<span class="label label-default"><span class="glyphicon glyphicon-bookmark" aria-hidden="true"></span> 第 54-54 页</span> 
						<span class="label label-default"><span class="glyphicon glyphicon-time" aria-hidden="true"></span> 2017年4月12日 星期三 下午11:27:29</span>
					</div>
				</div>
			</article>
			<article>
				<div class="panel panel-default">
					<div class="panel-body mk55"><p>因为它跟踪整个应用程序生命周期的内存分配，你必须从 Instruments 应用里面 加载你的程序以便 Allocations instrument 工具可以收集它所需要的数据</p></div>
					<div class="panel-footer text-right">
						<span class="label label-primary"><span class="glyphicon glyphicon-tag" aria-hidden="true"></span> 标注</span> 
						<span class="label label-default"><span class="glyphicon glyphicon-bookmark" aria-hidden="true"></span> 第 55-55 页</span> 
						<span class="label label-default"><span class="glyphicon glyphicon-time" aria-hidden="true"></span> 2017年4月12日 星期三 下午11:28:14</span>
					</div>
				</div>
			</article>
			<article>
				<div class="panel panel-default">
					<div class="panel-body mk55"><p>Allocation instrument 工具的目的是为你显示你的应用程序如何使用内存。内 存是系统重要的资源，你应该明智的使用它。每个内存分配都包含了直接成本和潜在 的长期成本。</p></div>
					<div class="panel-footer text-right">
						<span class="label label-primary"><span class="glyphicon glyphicon-tag" aria-hidden="true"></span> 标注</span> 
						<span class="label label-default"><span class="glyphicon glyphicon-bookmark" aria-hidden="true"></span> 第 55-55 页</span> 
						<span class="label label-default"><span class="glyphicon glyphicon-time" aria-hidden="true"></span> 2017年4月12日 星期三 下午11:30:26</span>
					</div>
				</div>
			</article>
			<article>
				<div class="panel panel-default">
					<div class="panel-body mk55"><p>使用 instrument 的检查器，你可 以修改视图让它显示分配的密度，即内存分配发生的地方，或你也可以让它显示堆栈 的深度。分配密度图可以让你查看在你程序里面内存分配发生的频率</p></div>
					<div class="panel-footer text-right">
						<span class="label label-primary"><span class="glyphicon glyphicon-tag" aria-hidden="true"></span> 标注</span> 
						<span class="label label-default"><span class="glyphicon glyphicon-bookmark" aria-hidden="true"></span> 第 55-55 页</span> 
						<span class="label label-default"><span class="glyphicon glyphicon-time" aria-hidden="true"></span> 2017年4月12日 星期三 下午11:32:23</span>
					</div>
				</div>
			</article>
			<article>
				<div class="panel panel-default">
					<div class="panel-body mk57"><p>随着“Record referenc counts”选项被设置，Allocations instrument 在模板文档里面 查找内存泄露地方，这会帮助你追踪到内存的泄露。</p>
<p>过滤详细面板的内容 表 5-4 列出了高级的配置选项，你可以应用它们到 Allocations instrument 记 录的事件上面。你使用这些选项来集中于分析特定时间发生的事件，或涉及你代码的 特定部分。所有的这些选项仅当使用大纲或图形模式查看数据的时候才可用。在列表 模式下，Allocations instrument 显示所有分配的历史记录。</p>
<p>Table 5-4 Configuration options for the Allocations instrument Description Configuration section Allocation Lifespan Choose between displaying all allocation events and those associated with objects that still exist. Call Tree Choose these options to flatten or hide uninteresting parts of the call tree. You can separate out memory blocks based on which thread allocated them, hide allocations made by system libraries, show allocations made from Objective-C calls only , and more. These options help you trim irrelevant portions of the call tree and organize the remaining data in ways that make it easier to spot trends. Call Tree Constraints Choose the constraints for the data you want to view. You can use these configuration fields to prune the current data set. The Allocations instrument supports constraining data based on the number of allocations made for a given type or the size (in bytes) of the allocations.当你应用一个 instrument 的配置选项的时候，不要忘记你也可以限制样本数据 基于这些样本何时被收集。每个跟踪文档里面的 Inspection Range 控件可以让你查 看特定样本点的数据。该特性和其他 instrument 的配置选项组合使用。关于更多如 何使用 Inspection Range 控件的信息，参阅“查看一个时间范围的数据”部分。</p>
<p>2011-12-07 | © 2011 YouMi Mobile Co. Ltd. All Rights Reserved. [52]</p></div>
					<div class="panel-footer text-right">
						<span class="label label-primary"><span class="glyphicon glyphicon-tag" aria-hidden="true"></span> 标注</span> 
						<span class="label label-default"><span class="glyphicon glyphicon-bookmark" aria-hidden="true"></span> 第 57-57 页</span> 
						<span class="label label-default"><span class="glyphicon glyphicon-time" aria-hidden="true"></span> 2017年4月12日 星期三 下午11:36:25</span>
					</div>
				</div>
			</article>
			<article>
				<div class="panel panel-default">
					<div class="panel-body mk57"><p>随着“Record referenc counts”选项被设置，Allocations instrument 在模板文档里面 查找内存泄露地方，这会帮助你追踪到内存的泄露。</p></div>
					<div class="panel-footer text-right">
						<span class="label label-primary"><span class="glyphicon glyphicon-tag" aria-hidden="true"></span> 标注</span> 
						<span class="label label-default"><span class="glyphicon glyphicon-bookmark" aria-hidden="true"></span> 第 57-57 页</span> 
						<span class="label label-default"><span class="glyphicon glyphicon-time" aria-hidden="true"></span> 2017年4月12日 星期三 下午11:36:39</span>
					</div>
				</div>
			</article>
			<article>
				<div class="panel panel-default">
					<div class="panel-body mk58"><p>Leaks instrument 提供了和使用 leaks 命令行工具一样的检测泄露的能力。这个 instrument 分析你程序代码里面不在被引用而又正在使用的内存块。不被引用的内 存块也被视为“leaks”，因为它们不能再被你的应用程序释放，而且一直占用内存 空间直到程序退出</p></div>
					<div class="panel-footer text-right">
						<span class="label label-primary"><span class="glyphicon glyphicon-tag" aria-hidden="true"></span> 标注</span> 
						<span class="label label-default"><span class="glyphicon glyphicon-bookmark" aria-hidden="true"></span> 第 58-58 页</span> 
						<span class="label label-default"><span class="glyphicon glyphicon-time" aria-hidden="true"></span> 2017年4月12日 星期三 下午11:37:51</span>
					</div>
				</div>
			</article>
			<article>
				<div class="panel panel-default">
					<div class="panel-body mk62"><p>Instruments 应用给你访问这个强大的 DTrace 工具提供了一个套简单的接口，而无 需太复杂的操作</p></div>
					<div class="panel-footer text-right">
						<span class="label label-primary"><span class="glyphicon glyphicon-tag" aria-hidden="true"></span> 标注</span> 
						<span class="label label-default"><span class="glyphicon glyphicon-bookmark" aria-hidden="true"></span> 第 62-62 页</span> 
						<span class="label label-default"><span class="glyphicon glyphicon-time" aria-hidden="true"></span> 2017年4月14日 星期五 上午8:25:24</span>
					</div>
				</div>
			</article>
			<article>
				<div class="panel panel-default">
					<div class="panel-body mk62"><p>以下部分介绍了如何创建一个自定义的 instrument 工具，和如何在 Instruments 应用和 dtrace 命令行工具里面配合使用这些 instrument 工具</p></div>
					<div class="panel-footer text-right">
						<span class="label label-primary"><span class="glyphicon glyphicon-tag" aria-hidden="true"></span> 标注</span> 
						<span class="label label-default"><span class="glyphicon glyphicon-bookmark" aria-hidden="true"></span> 第 62-62 页</span> 
						<span class="label label-default"><span class="glyphicon glyphicon-time" aria-hidden="true"></span> 2017年4月14日 星期五 上午8:27:25</span>
					</div>
				</div>
			</article>
			<article>
				<div class="panel panel-default">
					<div class="panel-body mk62"><p>自定义 instruments 工具使用 DTrace 探针（probe）。探针（probe）是一个就像 是在你的代码里面放置了一个传感器。它响应 DTrace 可以绑定的位置和事件</p></div>
					<div class="panel-footer text-right">
						<span class="label label-primary"><span class="glyphicon glyphicon-tag" aria-hidden="true"></span> 标注</span> 
						<span class="label label-default"><span class="glyphicon glyphicon-bookmark" aria-hidden="true"></span> 第 62-62 页</span> 
						<span class="label label-default"><span class="glyphicon glyphicon-time" aria-hidden="true"></span> 2017年4月14日 星期五 上午8:28:11</span>
					</div>
				</div>
			</article>
			<article>
				<div class="panel panel-default">
					<div class="panel-body mk63"><p>当函数执行或事件产生的时候，相关的探针会被触发，且 DTrace 运 行任何和探针相关的动作。大部分 DTrace 的动作只是简单的收集关于操作系统的数 据和用户程序此刻的行为。然而可以运行一个自定义脚本作为动作的一部分。脚本可 以让你使用 DTrace 的特性来微调你收集的数据</p></div>
					<div class="panel-footer text-right">
						<span class="label label-primary"><span class="glyphicon glyphicon-tag" aria-hidden="true"></span> 标注</span> 
						<span class="label label-default"><span class="glyphicon glyphicon-bookmark" aria-hidden="true"></span> 第 63-63 页</span> 
						<span class="label label-default"><span class="glyphicon glyphicon-time" aria-hidden="true"></span> 2017年4月14日 星期五 上午8:29:00</span>
					</div>
				</div>
			</article>
			<article>
				<div class="panel panel-default">
					<div class="panel-body mk63"><p>断言(predicate)是一个可以让你限制探针动作何时运行的条件状态。</p>
<p>比如，你可以限制一个探针到指定的进程或用户，或你可以在你 instrument 里面指 定的条件为真的时候运行动作</p></div>
					<div class="panel-footer text-right">
						<span class="label label-primary"><span class="glyphicon glyphicon-tag" aria-hidden="true"></span> 标注</span> 
						<span class="label label-default"><span class="glyphicon glyphicon-bookmark" aria-hidden="true"></span> 第 63-63 页</span> 
						<span class="label label-default"><span class="glyphicon glyphicon-time" aria-hidden="true"></span> 2017年4月14日 星期五 上午8:31:11</span>
					</div>
				</div>
			</article>
			<article>
				<div class="panel panel-default">
					<div class="panel-body nt63"><p>断言</p></div>
					<div class="panel-footer text-right">
						<span class="label label-primary"><span class="glyphicon glyphicon-tag" aria-hidden="true"></span> 笔记</span> 
						<span class="label label-default"><span class="glyphicon glyphicon-bookmark" aria-hidden="true"></span> 第 63 页</span> 
						<span class="label label-default"><span class="glyphicon glyphicon-time" aria-hidden="true"></span> 2017年4月14日 星期五 上午8:32:23</span>
					</div>
				</div>
			</article>
			<article>
				<div class="panel panel-default">
					<div class="panel-body mk63"><p>默认情况下，探针不包含任何断言，意味着探针每次 触发的时候相关的动作将会运行。然而你可以添加任何数量的断言到探针里面，使用 AND 和 OR 操作符来连接它们构成一个复杂的决策树</p></div>
					<div class="panel-footer text-right">
						<span class="label label-primary"><span class="glyphicon glyphicon-tag" aria-hidden="true"></span> 标注</span> 
						<span class="label label-default"><span class="glyphicon glyphicon-bookmark" aria-hidden="true"></span> 第 63-63 页</span> 
						<span class="label label-default"><span class="glyphicon glyphicon-time" aria-hidden="true"></span> 2017年4月14日 星期五 上午8:32:23</span>
					</div>
				</div>
			</article>
			<article>
				<div class="panel panel-default">
					<div class="panel-body nt63"><p>组成</p></div>
					<div class="panel-footer text-right">
						<span class="label label-primary"><span class="glyphicon glyphicon-tag" aria-hidden="true"></span> 笔记</span> 
						<span class="label label-default"><span class="glyphicon glyphicon-bookmark" aria-hidden="true"></span> 第 63 页</span> 
						<span class="label label-default"><span class="glyphicon glyphicon-time" aria-hidden="true"></span> 2017年4月14日 星期五 上午8:35:07</span>
					</div>
				</div>
			</article>
			<article>
				<div class="panel panel-default">
					<div class="panel-body mk63"><p>一个 instruments 工具由以下几部分构成: z 一个描述部分，包含了 instrument 的名称、类别和描述 z 一个或多个探针，每个包含了和它相关的动作和断言 z 一个 DATA 声明区域，你可以使用它来声明所有探针共享的全局变量 z 一个 BEGIN 脚本，它初始化任何全局变量，并执行任何 instrument 所需的启动 任务 z 一个 END 脚本，它执行任何最后清理的动作</p></div>
					<div class="panel-footer text-right">
						<span class="label label-primary"><span class="glyphicon glyphicon-tag" aria-hidden="true"></span> 标注</span> 
						<span class="label label-default"><span class="glyphicon glyphicon-bookmark" aria-hidden="true"></span> 第 63-63 页</span> 
						<span class="label label-default"><span class="glyphicon glyphicon-time" aria-hidden="true"></span> 2017年4月14日 星期五 上午8:35:07</span>
					</div>
				</div>
			</article>
			<article>
				<div class="panel panel-default">
					<div class="panel-body mk69"><p>你的探针返回给 Instruments 应用的任何数据都会被收集并显示在 instruments 工具的详细面板上面。详细面板显示所有的数据变量，无论它的类型是什么</p></div>
					<div class="panel-footer text-right">
						<span class="label label-primary"><span class="glyphicon glyphicon-tag" aria-hidden="true"></span> 标注</span> 
						<span class="label label-default"><span class="glyphicon glyphicon-bookmark" aria-hidden="true"></span> 第 69-69 页</span> 
						<span class="label label-default"><span class="glyphicon glyphicon-time" aria-hidden="true"></span> 2017年4月14日 星期五 上午8:55:12</span>
					</div>
				</div>
			</article>
			<article>
				<div class="panel panel-default">
					<div class="panel-body mk69"><p>因为 DTrace 脚本运行在内核空间，而 Instruments 应用运行在用户空间，如果 你想要返回一个自定义指针类型的脚本变量的值给 Instruments 应用，你必须创建一 个缓冲区来存储这些变量的数据</p></div>
					<div class="panel-footer text-right">
						<span class="label label-primary"><span class="glyphicon glyphicon-tag" aria-hidden="true"></span> 标注</span> 
						<span class="label label-default"><span class="glyphicon glyphicon-bookmark" aria-hidden="true"></span> 第 69-69 页</span> 
						<span class="label label-default"><span class="glyphicon glyphicon-time" aria-hidden="true"></span> 2017年4月14日 星期五 上午8:56:45</span>
					</div>
				</div>
			</article>
			<article>
				<div class="panel panel-default">
					<div class="panel-body mk69"><p>创建缓冲区最简单的方式是使用 DTrace 里面的 copyin 或 copyinstr 子程序。copyinstr 子程序需要一个 C 字符串指针的参数，并返 回一个字符串内容形式，你可以把该字符串返回给 Instruments 应用</p></div>
					<div class="panel-footer text-right">
						<span class="label label-primary"><span class="glyphicon glyphicon-tag" aria-hidden="true"></span> 标注</span> 
						<span class="label label-default"><span class="glyphicon glyphicon-bookmark" aria-hidden="true"></span> 第 69-69 页</span> 
						<span class="label label-default"><span class="glyphicon glyphicon-time" aria-hidden="true"></span> 2017年4月14日 星期五 上午8:57:13</span>
					</div>
				</div>
			</article>
			<article>
				<div class="panel panel-default">
					<div class="panel-body mk70"><p>脚本可以在内核级别直接和 DTrace 交互，提供访问关于内核和活跃进程的底层信息。大部分 instruments 工具使用脚本 来收集 DTrace 不容易提供的信息。你也可以使用脚本在数据返回给 Instruments 应 用时操纵原始数据。比如，如果你想要更容易的和 instruments 跟踪面板的其他值比 较，你可以使用脚本来格式化一个特定范围的数据值</p></div>
					<div class="panel-footer text-right">
						<span class="label label-primary"><span class="glyphicon glyphicon-tag" aria-hidden="true"></span> 标注</span> 
						<span class="label label-default"><span class="glyphicon glyphicon-bookmark" aria-hidden="true"></span> 第 70-70 页</span> 
						<span class="label label-default"><span class="glyphicon glyphicon-time" aria-hidden="true"></span> 2017年4月14日 星期五 上午9:03:26</span>
					</div>
				</div>
			</article>
			<article>
				<div class="panel panel-default">
					<div class="panel-body mk71"><p>因为传递数据回 Instruments 应用包括从内核空间 拷贝数据到 Instruments 应用的程序空间，因此你应该总是通过在“Record the following data:”部分的 instruments 配置表里面配置合适的实体来传递数据返回 给 Instruments 应用</p></div>
					<div class="panel-footer text-right">
						<span class="label label-primary"><span class="glyphicon glyphicon-tag" aria-hidden="true"></span> 标注</span> 
						<span class="label label-default"><span class="glyphicon glyphicon-bookmark" aria-hidden="true"></span> 第 71-71 页</span> 
						<span class="label label-default"><span class="glyphicon glyphicon-time" aria-hidden="true"></span> 2017年4月14日 星期五 上午9:05:57</span>
					</div>
				</div>
			</article>
			<article>
				<div class="panel panel-default">
					<div class="panel-body mk72"><p>DTrace 脚本有一个基本扁平的结构，因为缺乏流程控制语句，而且其设计为了保 证探针的执行时间最小化。然而 DTrace 脚本里面的变量，根据你的需求划分到不同 的作用域</p></div>
					<div class="panel-footer text-right">
						<span class="label label-primary"><span class="glyphicon glyphicon-tag" aria-hidden="true"></span> 标注</span> 
						<span class="label label-default"><span class="glyphicon glyphicon-bookmark" aria-hidden="true"></span> 第 72-72 页</span> 
						<span class="label label-default"><span class="glyphicon glyphicon-time" aria-hidden="true"></span> 2017年4月14日 星期五 上午9:09:26</span>
					</div>
				</div>
			</article>
			<article>
				<div class="panel panel-default">
					<div class="panel-body nt72"><p>查找脚本错误</p></div>
					<div class="panel-footer text-right">
						<span class="label label-primary"><span class="glyphicon glyphicon-tag" aria-hidden="true"></span> 笔记</span> 
						<span class="label label-default"><span class="glyphicon glyphicon-bookmark" aria-hidden="true"></span> 第 72 页</span> 
						<span class="label label-default"><span class="glyphicon glyphicon-time" aria-hidden="true"></span> 2017年4月14日 星期五 上午9:11:35</span>
					</div>
				</div>
			</article>
			<article>
				<div class="panel panel-default">
					<div class="panel-body mk72"><p>Instruments 应用在你在你的跟踪文档里面按下 Record 按钮但跟踪又没有真正开始的时候报告你 该错误。在错误消息的气泡里面包含了一个编辑按钮。单击该按钮来打开 instrument 工具的配置表，它此刻会标识探针的一个错误</p></div>
					<div class="panel-footer text-right">
						<span class="label label-primary"><span class="glyphicon glyphicon-tag" aria-hidden="true"></span> 标注</span> 
						<span class="label label-default"><span class="glyphicon glyphicon-bookmark" aria-hidden="true"></span> 第 72-72 页</span> 
						<span class="label label-default"><span class="glyphicon glyphicon-time" aria-hidden="true"></span> 2017年4月14日 星期五 上午9:11:35</span>
					</div>
				</div>
			</article>

		</div>
		<footer class="footer col-md-12">
			<div class="text-center">
				<a href="http://kindlefere.com" target="_blank">Kindle 伴侣 - 为静心阅读而生</a>
			</div>
		</footer>
	</div>
<script src="/live2dw/lib/L2Dwidget.min.js?0c58a1486de42ac6cc1c59c7d98ae887"></script><script>L2Dwidget.init({"pluginRootPath":"live2dw/","pluginJsPath":"lib/","pluginModelPath":"assets/","model":{"jsonPath":"live2d-widget-model-wanko"},"display":{"position":"right","width":150,"height":300},"mobile":{"show":true}});</script></body>
</html>
    
  </div>


          </div>
          


          
  <div class="comments" id="comments">
    
      <div id="uyan_frame"></div>
    
  </div>


        </div>
        
          
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    <div class="sidebar-inner">

      

      

      <section class="site-overview sidebar-panel sidebar-panel-active">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <img class="site-author-image" itemprop="image"
               src="/images/avatar.gif"
               alt="boyer" />
          <p class="site-author-name" itemprop="name">boyer</p>
           
              <p class="site-description motion-element" itemprop="description">不物喜，不己悲，善假物，易参行！</p>
          
        </div>
        <nav class="site-state motion-element">

          
            <div class="site-state-item site-state-posts">
              <a href="/archives">
                <span class="site-state-item-count">152</span>
                <span class="site-state-item-name">日志</span>
              </a>
            </div>
          

          
            
            
            <div class="site-state-item site-state-categories">
              <a href="/categories/index.html">
                <span class="site-state-item-count">75</span>
                <span class="site-state-item-name">分类</span>
              </a>
            </div>
          

          
            
            
            <div class="site-state-item site-state-tags">
              <a href="/tags/index.html">
                <span class="site-state-item-count">93</span>
                <span class="site-state-item-name">标签</span>
              </a>
            </div>
          

        </nav>

        
          <div class="feed-link motion-element">
            <a href="/atom.xml" rel="alternate">
              <i class="fa fa-rss"></i>
              RSS
            </a>
          </div>
        

        
        <div class="feed-link motion-element">
        <a href="/podcast.xml" rel="alternate">
        <i class="fa fa-rss"></i>
        我的播客
        </a>
        </div>
        

        
        <div class="feed-link motion-element">
        <a href="/MyClippings" rel="alternate">
        <i class="fa fa-rss"></i>
        kindle笔记
        </a>
        </div>
        

        <div class="links-of-author motion-element">
          
            
              <span class="links-of-author-item">
                <a href="https://github.com/huos3203" target="_blank" title="GitHub">
                  
                    <i class="fa fa-fw fa-github"></i>
                  
                  GitHub
                </a>
              </span>
            
              <span class="links-of-author-item">
                <a href="http://weibo.com/1791281385" target="_blank" title="微博">
                  
                    <i class="fa fa-fw fa-globe"></i>
                  
                  微博
                </a>
              </span>
            
              <span class="links-of-author-item">
                <a href="http://douban.com/people/boyers" target="_blank" title="豆瓣">
                  
                    <i class="fa fa-fw fa-globe"></i>
                  
                  豆瓣
                </a>
              </span>
            
              <span class="links-of-author-item">
                <a href="http://www.zhihu.com/people/boyers" target="_blank" title="知乎">
                  
                    <i class="fa fa-fw fa-globe"></i>
                  
                  知乎
                </a>
              </span>
            
          
        </div>

        
        

        
        
          <div class="links-of-blogroll motion-element links-of-blogroll-inline">
            <div class="links-of-blogroll-title">
              <i class="fa  fa-fw fa-globe"></i>
              推荐学习
            </div>
            <ul class="links-of-blogroll-list">
              
                <li class="links-of-blogroll-item">
                  <a href="https://developer.apple.com/library/content/documentation/Swift/Conceptual/BuildingCocoaApps/" title="swift文档" target="_blank">swift文档</a>
                </li>
              
                <li class="links-of-blogroll-item">
                  <a href="https://github.com/matteocrippa/awesome-swift" title="swift酷库" target="_blank">swift酷库</a>
                </li>
              
                <li class="links-of-blogroll-item">
                  <a href="https://swift.org/getting-started/" title="SPM终端开发" target="_blank">SPM终端开发</a>
                </li>
              
                <li class="links-of-blogroll-item">
                  <a href="https://github.com/PerfectlySoft/Perfect/blob/master/README.zh_CN.md" title="Perfect服务器端" target="_blank">Perfect服务器端</a>
                </li>
              
                <li class="links-of-blogroll-item">
                  <a href="https://github.com/uraimo/Awesome-Swift-Playgrounds" title="Playground" target="_blank">Playground</a>
                </li>
              
                <li class="links-of-blogroll-item">
                  <a href="https://www.objccn.io" title="objc中国" target="_blank">objc中国</a>
                </li>
              
                <li class="links-of-blogroll-item">
                  <a href="http://nshipster.cn" title="NSHipster" target="_blank">NSHipster</a>
                </li>
              
                <li class="links-of-blogroll-item">
                  <a href="https://github.com/AttackOnDobby/iOS-Core-Animation-Advanced-Techniques" title="动画" target="_blank">动画</a>
                </li>
              
                <li class="links-of-blogroll-item">
                  <a href="https://git-scm.com/book/zh" title="Git Pro" target="_blank">Git Pro</a>
                </li>
              
                <li class="links-of-blogroll-item">
                  <a href="http://kaopu.so/pan" title="全盘搜" target="_blank">全盘搜</a>
                </li>
              
                <li class="links-of-blogroll-item">
                  <a href="http://wherebt.com" title="BT导航网" target="_blank">BT导航网</a>
                </li>
              
                <li class="links-of-blogroll-item">
                  <a href="https://mp.weixin.qq.com" title="小程序官方" target="_blank">小程序官方</a>
                </li>
              
                <li class="links-of-blogroll-item">
                  <a href="https://onevcat.com" title="王维" target="_blank">王维</a>
                </li>
              
                <li class="links-of-blogroll-item">
                  <a href="http://blog.devtang.com" title="唐巧" target="_blank">唐巧</a>
                </li>
              
            </ul>
          </div>
        

        


      </section>

      

      

    </div>
  </aside>


        
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <script async src="https://dn-lbstatics.qbox.me/busuanzi/2.3/busuanzi.pure.mini.js"></script>
<div class="copyright" >
    <span id="busuanzi_container_site_uv">
    您是本站第:<span id="busuanzi_value_site_uv"></span>位小伙伴 |
    </span>
    <span id="busuanzi_container_site_pv">
     本站总<span id="busuanzi_value_site_pv"></span>次访问 |
    </span>
    <span class="post-count"> 博客全站共185.8k字</span>
</div>
<div class="copyright">
    <span id="timeDate">载入天数...</span>
    <span id="times">载入时分秒...</span>
</div>


<script>
var now = new Date();
function createtime() {
var grt= new Date("02/14/2018 12:49:00");//此处修改你的建站时间或者网站上线时间
now.setTime(now.getTime()+250);
days = (now - grt ) / 1000 / 60 / 60 / 24; dnum = Math.floor(days);
hours = (now - grt ) / 1000 / 60 / 60 - (24 * dnum); hnum = Math.floor(hours);
if(String(hnum).length ==1 ){hnum = "0" + hnum;} minutes = (now - grt ) / 1000 /60 - (24 * 60 * dnum) - (60 * hnum);
mnum = Math.floor(minutes); if(String(mnum).length ==1 ){mnum = "0" + mnum;}
seconds = (now - grt ) / 1000 - (24 * 60 * 60 * dnum) - (60 * 60 * hnum) - (60 * mnum);
snum = Math.round(seconds); if(String(snum).length ==1 ){snum = "0" + snum;}
document.getElementById("timeDate").innerHTML = "本站已安全运行 "+dnum+" 天 ";
document.getElementById("times").innerHTML = hnum + " 小时 " + mnum + " 分 " + snum + " 秒";
}
setInterval("createtime()",250);
</script>

        

        
      </div>
    </footer>

    
      <div class="back-to-top">
        <i class="fa fa-arrow-up"></i>
        
      </div>
    

  </div>

  

<script type="text/javascript">
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }
</script>









  












  
  <script type="text/javascript" src="/lib/jquery/index.js?v=2.1.3"></script>

  
  <script type="text/javascript" src="/lib/fastclick/lib/fastclick.min.js?v=1.0.6"></script>

  
  <script type="text/javascript" src="/lib/jquery_lazyload/jquery.lazyload.js?v=1.9.7"></script>

  
  <script type="text/javascript" src="/lib/velocity/velocity.min.js?v=1.2.1"></script>

  
  <script type="text/javascript" src="/lib/velocity/velocity.ui.min.js?v=1.2.1"></script>

  
  <script type="text/javascript" src="/lib/fancybox/source/jquery.fancybox.pack.js?v=2.1.5"></script>


  


  <script type="text/javascript" src="/js/src/utils.js?v=5.1.1"></script>

  <script type="text/javascript" src="/js/src/motion.js?v=5.1.1"></script>



  
  

  

  


  <script type="text/javascript" src="/js/src/bootstrap.js?v=5.1.1"></script>



  


  




	





  





  
    

    
      <!-- UY BEGIN -->
      <script type="text/javascript" src="http://v2.uyan.cc/code/uyan.js?uid=2132971"></script>
      <!-- UY END -->
    
  





  
    <script type="text/javascript">
      (function(d, s) {
        var j, e = d.getElementsByTagName(s)[0];
        if (typeof LivereTower === 'function') { return; }
        j = d.createElement(s);
        j.src = 'https://cdn-city.livere.com/js/embed.dist.js';
        j.async = true;
        e.parentNode.insertBefore(j, e);
      })(document, 'script');
    </script>
  






  

  <script type="text/javascript">
    // Popup Window;
    var isfetched = false;
    var isXml = true;
    // Search DB path;
    var search_path = "search.xml";
    if (search_path.length === 0) {
      search_path = "search.xml";
    } else if (search_path.endsWith("json")) {
      isXml = false;
    }
    var path = "/" + search_path;
    // monitor main search box;

    var onPopupClose = function (e) {
      $('.popup').hide();
      $('#local-search-input').val('');
      $('.search-result-list').remove();
      $('#no-result').remove();
      $(".local-search-pop-overlay").remove();
      $('body').css('overflow', '');
    }

    function proceedsearch() {
      $("body")
        .append('<div class="search-popup-overlay local-search-pop-overlay"></div>')
        .css('overflow', 'hidden');
      $('.search-popup-overlay').click(onPopupClose);
      $('.popup').toggle();
      var $localSearchInput = $('#local-search-input');
      $localSearchInput.attr("autocapitalize", "none");
      $localSearchInput.attr("autocorrect", "off");
      $localSearchInput.focus();
    }

    // search function;
    var searchFunc = function(path, search_id, content_id) {
      'use strict';

      // start loading animation
      $("body")
        .append('<div class="search-popup-overlay local-search-pop-overlay">' +
          '<div id="search-loading-icon">' +
          '<i class="fa fa-spinner fa-pulse fa-5x fa-fw"></i>' +
          '</div>' +
          '</div>')
        .css('overflow', 'hidden');
      $("#search-loading-icon").css('margin', '20% auto 0 auto').css('text-align', 'center');

      $.ajax({
        url: path,
        dataType: isXml ? "xml" : "json",
        async: true,
        success: function(res) {
          // get the contents from search data
          isfetched = true;
          $('.popup').detach().appendTo('.header-inner');
          var datas = isXml ? $("entry", res).map(function() {
            return {
              title: $("title", this).text(),
              content: $("content",this).text(),
              url: $("url" , this).text()
            };
          }).get() : res;
          var input = document.getElementById(search_id);
          var resultContent = document.getElementById(content_id);
          var inputEventFunction = function() {
            var searchText = input.value.trim().toLowerCase();
            var keywords = searchText.split(/[\s\-]+/);
            if (keywords.length > 1) {
              keywords.push(searchText);
            }
            var resultItems = [];
            if (searchText.length > 0) {
              // perform local searching
              datas.forEach(function(data) {
                var isMatch = false;
                var hitCount = 0;
                var searchTextCount = 0;
                var title = data.title.trim();
                var titleInLowerCase = title.toLowerCase();
                var content = data.content.trim().replace(/<[^>]+>/g,"");
                var contentInLowerCase = content.toLowerCase();
                var articleUrl = decodeURIComponent(data.url);
                var indexOfTitle = [];
                var indexOfContent = [];
                // only match articles with not empty titles
                if(title != '') {
                  keywords.forEach(function(keyword) {
                    function getIndexByWord(word, text, caseSensitive) {
                      var wordLen = word.length;
                      if (wordLen === 0) {
                        return [];
                      }
                      var startPosition = 0, position = [], index = [];
                      if (!caseSensitive) {
                        text = text.toLowerCase();
                        word = word.toLowerCase();
                      }
                      while ((position = text.indexOf(word, startPosition)) > -1) {
                        index.push({position: position, word: word});
                        startPosition = position + wordLen;
                      }
                      return index;
                    }

                    indexOfTitle = indexOfTitle.concat(getIndexByWord(keyword, titleInLowerCase, false));
                    indexOfContent = indexOfContent.concat(getIndexByWord(keyword, contentInLowerCase, false));
                  });
                  if (indexOfTitle.length > 0 || indexOfContent.length > 0) {
                    isMatch = true;
                    hitCount = indexOfTitle.length + indexOfContent.length;
                  }
                }

                // show search results

                if (isMatch) {
                  // sort index by position of keyword

                  [indexOfTitle, indexOfContent].forEach(function (index) {
                    index.sort(function (itemLeft, itemRight) {
                      if (itemRight.position !== itemLeft.position) {
                        return itemRight.position - itemLeft.position;
                      } else {
                        return itemLeft.word.length - itemRight.word.length;
                      }
                    });
                  });

                  // merge hits into slices

                  function mergeIntoSlice(text, start, end, index) {
                    var item = index[index.length - 1];
                    var position = item.position;
                    var word = item.word;
                    var hits = [];
                    var searchTextCountInSlice = 0;
                    while (position + word.length <= end && index.length != 0) {
                      if (word === searchText) {
                        searchTextCountInSlice++;
                      }
                      hits.push({position: position, length: word.length});
                      var wordEnd = position + word.length;

                      // move to next position of hit

                      index.pop();
                      while (index.length != 0) {
                        item = index[index.length - 1];
                        position = item.position;
                        word = item.word;
                        if (wordEnd > position) {
                          index.pop();
                        } else {
                          break;
                        }
                      }
                    }
                    searchTextCount += searchTextCountInSlice;
                    return {
                      hits: hits,
                      start: start,
                      end: end,
                      searchTextCount: searchTextCountInSlice
                    };
                  }

                  var slicesOfTitle = [];
                  if (indexOfTitle.length != 0) {
                    slicesOfTitle.push(mergeIntoSlice(title, 0, title.length, indexOfTitle));
                  }

                  var slicesOfContent = [];
                  while (indexOfContent.length != 0) {
                    var item = indexOfContent[indexOfContent.length - 1];
                    var position = item.position;
                    var word = item.word;
                    // cut out 100 characters
                    var start = position - 20;
                    var end = position + 80;
                    if(start < 0){
                      start = 0;
                    }
                    if (end < position + word.length) {
                      end = position + word.length;
                    }
                    if(end > content.length){
                      end = content.length;
                    }
                    slicesOfContent.push(mergeIntoSlice(content, start, end, indexOfContent));
                  }

                  // sort slices in content by search text's count and hits' count

                  slicesOfContent.sort(function (sliceLeft, sliceRight) {
                    if (sliceLeft.searchTextCount !== sliceRight.searchTextCount) {
                      return sliceRight.searchTextCount - sliceLeft.searchTextCount;
                    } else if (sliceLeft.hits.length !== sliceRight.hits.length) {
                      return sliceRight.hits.length - sliceLeft.hits.length;
                    } else {
                      return sliceLeft.start - sliceRight.start;
                    }
                  });

                  // select top N slices in content

                  var upperBound = parseInt('1');
                  if (upperBound >= 0) {
                    slicesOfContent = slicesOfContent.slice(0, upperBound);
                  }

                  // highlight title and content

                  function highlightKeyword(text, slice) {
                    var result = '';
                    var prevEnd = slice.start;
                    slice.hits.forEach(function (hit) {
                      result += text.substring(prevEnd, hit.position);
                      var end = hit.position + hit.length;
                      result += '<b class="search-keyword">' + text.substring(hit.position, end) + '</b>';
                      prevEnd = end;
                    });
                    result += text.substring(prevEnd, slice.end);
                    return result;
                  }

                  var resultItem = '';

                  if (slicesOfTitle.length != 0) {
                    resultItem += "<li><a href='" + articleUrl + "' class='search-result-title'>" + highlightKeyword(title, slicesOfTitle[0]) + "</a>";
                  } else {
                    resultItem += "<li><a href='" + articleUrl + "' class='search-result-title'>" + title + "</a>";
                  }

                  slicesOfContent.forEach(function (slice) {
                    resultItem += "<a href='" + articleUrl + "'>" +
                      "<p class=\"search-result\">" + highlightKeyword(content, slice) +
                      "...</p>" + "</a>";
                  });

                  resultItem += "</li>";
                  resultItems.push({
                    item: resultItem,
                    searchTextCount: searchTextCount,
                    hitCount: hitCount,
                    id: resultItems.length
                  });
                }
              })
            };
            if (keywords.length === 1 && keywords[0] === "") {
              resultContent.innerHTML = '<div id="no-result"><i class="fa fa-search fa-5x" /></div>'
            } else if (resultItems.length === 0) {
              resultContent.innerHTML = '<div id="no-result"><i class="fa fa-frown-o fa-5x" /></div>'
            } else {
              resultItems.sort(function (resultLeft, resultRight) {
                if (resultLeft.searchTextCount !== resultRight.searchTextCount) {
                  return resultRight.searchTextCount - resultLeft.searchTextCount;
                } else if (resultLeft.hitCount !== resultRight.hitCount) {
                  return resultRight.hitCount - resultLeft.hitCount;
                } else {
                  return resultRight.id - resultLeft.id;
                }
              });
              var searchResultList = '<ul class=\"search-result-list\">';
              resultItems.forEach(function (result) {
                searchResultList += result.item;
              })
              searchResultList += "</ul>";
              resultContent.innerHTML = searchResultList;
            }
          }

          if ('auto' === 'auto') {
            input.addEventListener('input', inputEventFunction);
          } else {
            $('.search-icon').click(inputEventFunction);
            input.addEventListener('keypress', function (event) {
              if (event.keyCode === 13) {
                inputEventFunction();
              }
            });
          }

          // remove loading animation
          $(".local-search-pop-overlay").remove();
          $('body').css('overflow', '');

          proceedsearch();
        }
      });
    }

    // handle and trigger popup window;
    $('.popup-trigger').click(function(e) {
      e.stopPropagation();
      if (isfetched === false) {
        searchFunc(path, 'local-search-input', 'local-search-result');
      } else {
        proceedsearch();
      };
    });

    $('.popup-btn-close').click(onPopupClose);
    $('.popup').click(function(e){
      e.stopPropagation();
    });
    $(document).on('keyup', function (event) {
      var shouldDismissSearchPopup = event.which === 27 &&
        $('.search-popup').is(':visible');
      if (shouldDismissSearchPopup) {
        onPopupClose();
      }
    });
  </script>





  

  
  <script src="https://cdn1.lncld.net/static/js/av-core-mini-0.6.1.js"></script>
  <script>AV.initialize("ue8PI3eFeweMAjNgpAAIfiRi-gzGzoHsz", "2kHl2CEoDUKiHcVvz0dhu5rF");</script>
  <script>
    function showTime(Counter) {
      var query = new AV.Query(Counter);
      var entries = [];
      var $visitors = $(".leancloud_visitors");

      $visitors.each(function () {
        entries.push( $(this).attr("id").trim() );
      });

      query.containedIn('url', entries);
      query.find()
        .done(function (results) {
          var COUNT_CONTAINER_REF = '.leancloud-visitors-count';

          if (results.length === 0) {
            $visitors.find(COUNT_CONTAINER_REF).text(0);
            return;
          }

          for (var i = 0; i < results.length; i++) {
            var item = results[i];
            var url = item.get('url');
            var time = item.get('time');
            var element = document.getElementById(url);

            $(element).find(COUNT_CONTAINER_REF).text(time);
          }
          for(var i = 0; i < entries.length; i++) {
            var url = entries[i];
            var element = document.getElementById(url);
            var countSpan = $(element).find(COUNT_CONTAINER_REF);
            if( countSpan.text() == '') {
              countSpan.text(0);
            }
          }
        })
        .fail(function (object, error) {
          console.log("Error: " + error.code + " " + error.message);
        });
    }

    function addCount(Counter) {
      var $visitors = $(".leancloud_visitors");
      var url = $visitors.attr('id').trim();
      var title = $visitors.attr('data-flag-title').trim();
      var query = new AV.Query(Counter);

      query.equalTo("url", url);
      query.find({
        success: function(results) {
          if (results.length > 0) {
            var counter = results[0];
            counter.fetchWhenSave(true);
            counter.increment("time");
            counter.save(null, {
              success: function(counter) {
                var $element = $(document.getElementById(url));
                $element.find('.leancloud-visitors-count').text(counter.get('time'));
              },
              error: function(counter, error) {
                console.log('Failed to save Visitor num, with error message: ' + error.message);
              }
            });
          } else {
            var newcounter = new Counter();
            /* Set ACL */
            var acl = new AV.ACL();
            acl.setPublicReadAccess(true);
            acl.setPublicWriteAccess(true);
            newcounter.setACL(acl);
            /* End Set ACL */
            newcounter.set("title", title);
            newcounter.set("url", url);
            newcounter.set("time", 1);
            newcounter.save(null, {
              success: function(newcounter) {
                var $element = $(document.getElementById(url));
                $element.find('.leancloud-visitors-count').text(newcounter.get('time'));
              },
              error: function(newcounter, error) {
                console.log('Failed to create');
              }
            });
          }
        },
        error: function(error) {
          console.log('Error:' + error.code + " " + error.message);
        }
      });
    }

    $(function() {
      var Counter = AV.Object.extend("Counter");
      if ($('.leancloud_visitors').length == 1) {
        addCount(Counter);
      } else if ($('.post-title-link').length > 1) {
        showTime(Counter);
      }
    });
  </script>



  

  

  

  


<!--源码样式--拷贝按钮-->
<script type="text/javascript" src="/lib/clipboard/clipboard.js"></script>
<script type="text/javascript" src="/js/src/custom.js"></script>

<script src="/live2dw/lib/L2Dwidget.min.js?0c58a1486de42ac6cc1c59c7d98ae887"></script><script>L2Dwidget.init({"pluginRootPath":"live2dw/","pluginJsPath":"lib/","pluginModelPath":"assets/","model":{"jsonPath":"live2d-widget-model-wanko"},"display":{"position":"right","width":150,"height":300},"mobile":{"show":true}});</script></body>
</html>
<!-- 页面点击小红心 -->
<script type="text/javascript" src="/js/src/love.js"></script>
